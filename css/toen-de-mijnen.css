/* ========================================
   Toen de Mijnen Verdwenen - Page Styles
   Editorial Documentary Aesthetic
   ======================================== */

:root {
    /* Base colors */
    --tdmv-bg: #1a1816;
    --tdmv-bg-dark: #0f0e0d;
    --tdmv-text: #f5f2ed;
    --tdmv-text-muted: #8a857d;

    /* Part 1: Golden Era (1965-1974) - Warm amber */
    --tdmv-part1-accent: #c55a11;
    --tdmv-part1-bg: #1f1a15;
    --tdmv-part1-glow: rgba(197, 90, 17, 0.15);

    /* Part 2: Abandonment (1974-2000) - Cool grays */
    --tdmv-part2-accent: #6b7a8a;
    --tdmv-part2-bg: #161a1d;
    --tdmv-part2-glow: rgba(107, 122, 138, 0.1);

    /* Part 3: Renewal (2000-now) - Returning warmth with green */
    --tdmv-part3-accent: #8b9a6b;
    --tdmv-part3-bg: #181a16;
    --tdmv-part3-glow: rgba(139, 154, 107, 0.12);
}

/* ========================================
   Base Page Styles
   ======================================== */
.tdmv-page {
    margin: 0;
    padding: 0;
    background: transparent;
    min-height: 100vh;
    overflow: hidden;
}

/* ========================================
   Navigation
   ======================================== */
.tdmv-page .horizontal-nav {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 100;
    padding: 1.5rem 2rem;
}

.tdmv-page .horizontal-nav .back-link {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.8rem;
    color: var(--tdmv-text-muted);
    text-decoration: none;
    transition: color 0.3s ease;
    letter-spacing: 0.02em;
}

.tdmv-page .horizontal-nav .back-link:hover {
    color: var(--tdmv-part1-accent);
}

.tdmv-page .horizontal-nav .nav-title {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.9rem;
    color: var(--tdmv-text);
    display: block;
    margin-top: 0.25rem;
}

/* ========================================
   Horizontal Scroll Container
   ======================================== */
.tdmv-page .horizontal-scroll-container {
    display: flex;
    overflow-x: auto;
    overflow-y: hidden;
    height: 100vh;
    scroll-snap-type: x proximity;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
    background: transparent;
    position: relative;
    z-index: 2;
}

.tdmv-page .horizontal-scroll-container::-webkit-scrollbar {
    display: none;
}

.tdmv-page .horizontal-scroll-content {
    display: flex;
    align-items: center;
    gap: 12rem;
    padding: 0 4rem;
    height: 100vh;
}

/* ========================================
   Chapter Transition Panels
   ======================================== */
.tdmv-chapter {
    flex-shrink: 0;
    min-width: 100vw;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 4rem;
    box-sizing: border-box;
    scroll-snap-align: start;
    position: relative;
    overflow: hidden;
}

/* Chapter backgrounds with gradient transitions */
.tdmv-chapter.chapter-1 {
    background: linear-gradient(135deg, var(--tdmv-part1-bg) 0%, var(--tdmv-bg) 100%);
    transition: background 1s ease;
}

.tdmv-chapter.chapter-1::before {
    content: '';
    position: absolute;
    top: 20%;
    left: 10%;
    width: 400px;
    height: 400px;
    background: var(--tdmv-part1-glow);
    border-radius: 50%;
    filter: blur(100px);
    pointer-events: none;
}

.tdmv-chapter.chapter-2 {
    background: linear-gradient(135deg, var(--tdmv-part2-bg) 0%, var(--tdmv-bg) 100%);
    transition: background 1s ease;
}

.tdmv-chapter.chapter-2::before {
    content: '';
    position: absolute;
    bottom: 20%;
    right: 15%;
    width: 350px;
    height: 350px;
    background: var(--tdmv-part2-glow);
    border-radius: 50%;
    filter: blur(120px);
    pointer-events: none;
}

.tdmv-chapter.chapter-3 {
    background: linear-gradient(135deg, var(--tdmv-part3-bg) 0%, var(--tdmv-bg) 100%);
    transition: background 1s ease;
}

.tdmv-chapter.chapter-3::before {
    content: '';
    position: absolute;
    top: 30%;
    right: 20%;
    width: 300px;
    height: 300px;
    background: var(--tdmv-part3-glow);
    border-radius: 50%;
    filter: blur(80px);
    pointer-events: none;
}

.tdmv-chapter-content {
    position: relative;
    z-index: 1;
    max-width: 700px;
}

.tdmv-chapter-number {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.3em;
    margin-bottom: 1.5rem;
    opacity: 0.5;
}

.chapter-1 .tdmv-chapter-number { color: var(--tdmv-part1-accent); }
.chapter-2 .tdmv-chapter-number { color: var(--tdmv-part2-accent); }
.chapter-3 .tdmv-chapter-number { color: var(--tdmv-part3-accent); }

.tdmv-chapter-title {
    font-family: 'chloe', sans-serif;
    font-style: normal;
    font-weight: 400;
    font-size: clamp(2.5rem, 5vw, 4rem);
    line-height: 1.1;
    margin-bottom: 1rem;
    color: var(--tdmv-text);
}

.tdmv-chapter-period {
    font-family: 'Scala Sans SC', sans-serif;
    font-size: 0.85rem;
    letter-spacing: 0.2em;
    margin-bottom: 3rem;
}

.chapter-1 .tdmv-chapter-period { color: var(--tdmv-part1-accent); }
.chapter-2 .tdmv-chapter-period { color: var(--tdmv-part2-accent); }
.chapter-3 .tdmv-chapter-period { color: var(--tdmv-part3-accent); }

.tdmv-chapter-intro {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.95rem;
    line-height: 1.8;
    color: var(--tdmv-text-muted);
    max-width: 550px;
    margin: 0 auto;
}

.tdmv-chapter-arrow {
    position: absolute;
    bottom: 3rem;
    right: 4rem;
    font-size: 1.5rem;
    color: var(--tdmv-text-muted);
    opacity: 0.4;
    animation: arrowPulse 2s ease-in-out infinite;
    cursor: pointer;
}

.tdmv-chapter-arrow:hover {
    opacity: 1;
}

@keyframes arrowPulse {
    0%, 100% { transform: translateX(0); opacity: 0.4; }
    50% { transform: translateX(8px); opacity: 0.7; }
}

/* ========================================
   Intro Section - Vertical descent into mine
   ======================================== */
.tdmv-intro-section {
    position: relative;
    flex-shrink: 0;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    scroll-snap-align: start;
}

/* Vertical scroll container within intro */
.tdmv-descent {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 300vh;
    transition: transform 1.2s ease;
}

/* State 1: Show photo 1 */
.tdmv-intro-section.descended .tdmv-descent {
    transform: translateY(-100vh);
}

/* State 2: Show chapter 1 */
.tdmv-intro-section.descended-2 .tdmv-descent {
    transform: translateY(-200vh);
}

/* Hero Panel - Title + Text (top) */
.tdmv-hero-panel {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--tdmv-bg);
    overflow: hidden;
}

/* Dust particles container */
.tdmv-dust-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
}

.tdmv-dust-particle {
    position: absolute;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0) 70%);
    border-radius: 50%;
    pointer-events: none;
}

@keyframes dustFloat {
    0% {
        transform: translate(0, 0) rotate(0deg);
        opacity: var(--dust-opacity, 0.4);
    }
    90% {
        opacity: var(--dust-opacity, 0.4);
    }
    100% {
        transform: translate(var(--dust-drift-x, 100px), var(--dust-drift-y, -200px)) rotate(360deg);
        opacity: 0;
    }
}

.tdmv-hero-content {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6rem;
    width: 100%;
    padding: 0 4rem;
    box-sizing: border-box;
}

@media (min-width: 1100px) {
    .tdmv-hero-content {
        gap: 4rem;
    }
}

.tdmv-hero-panel .tdmv-title {
    color: var(--tdmv-part1-accent);
}

.tdmv-hero-text {
    width: clamp(280px, calc(134px + 19vw), 400px);
    flex-shrink: 0;
    position: relative;
}

.tdmv-hero-text p {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.95rem;
    color: var(--tdmv-text-muted);
    line-height: 1.75;
    margin-bottom: 0;
}

/* Descent arrow indicator */
.tdmv-descent-arrow {
    position: absolute;
    bottom: 3rem;
    left: 50%;
    transform: translateX(-50%);
    font-size: 2rem;
    color: var(--tdmv-part1-accent);
    opacity: 0.6;
    animation: descentPulse 2s ease-in-out infinite;
    cursor: pointer;
}

@keyframes descentPulse {
    0%, 100% { transform: translateX(-50%) translateY(0); opacity: 0.6; }
    50% { transform: translateX(-50%) translateY(10px); opacity: 1; }
}

/* Intro Photo - Photo 1 (bottom, revealed on descent) */
.tdmv-intro-photo {
    position: absolute;
    top: 100vh;
    left: 0;
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

/* Donkere achtergrond laag */
.tdmv-intro-photo::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--tdmv-bg);
    z-index: 0;
}

/* Mijngang achtergrond achter foto 1 - uitgeschakeld */
.tdmv-intro-photo::before {
    display: none;
}

/* Dust particles achter foto 1 - boven donkere achtergrond */
.tdmv-intro-photo .tdmv-dust-container {
    z-index: 1;
}

.tdmv-intro-photo-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    z-index: 2;
}

.tdmv-intro-photo img {
    height: 80vh;
    width: auto;
    object-fit: contain;
    transform: scale(1);
    transition: transform 8s ease-out;
}

.tdmv-intro-section.descended .tdmv-intro-photo img {
    transform: scale(1.05);
}

/* Caption positioned absolutely to the right of centered photo */
.tdmv-intro-photo > .tdmv-caption {
    position: absolute;
    bottom: 10vh;
    max-width: 400px;
    z-index: 1;
    /* left wordt via JavaScript gezet op basis van fotobreedte */
}

/* Intro Chapter Panel (third level of descent) */
.tdmv-intro-chapter {
    position: absolute;
    top: 200vh;
    left: 0;
    width: 100%;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 4rem;
    box-sizing: border-box;
    overflow: hidden;
    transition: background 1s ease;
}

/* Achtergrond gradient als aparte laag die altijd 100vh vult */
.tdmv-intro-chapter::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: linear-gradient(135deg, var(--tdmv-part1-bg) 0%, var(--tdmv-bg) 100%);
    z-index: -1;
    transition: opacity 1s ease;
}

.tdmv-intro-chapter.bg-hidden::after {
    opacity: 0;
}

/* Fade out chapter background when leaving intro */
.tdmv-intro-chapter.bg-hidden {
    background: transparent !important;
}

.tdmv-intro-chapter::before {
    transition: opacity 1s ease;
}

.tdmv-intro-chapter.bg-hidden::before {
    opacity: 0;
}

.tdmv-intro-chapter .tdmv-chapter-arrow {
    transition: opacity 0.5s ease, visibility 0.5s ease;
}

.tdmv-intro-chapter.bg-hidden .tdmv-chapter-arrow {
    opacity: 0 !important;
    animation: none;
    visibility: hidden;
}

/* Fade out chapter backgrounds when scrolling past */
.tdmv-chapter.bg-hidden {
    background: transparent !important;
}

.tdmv-chapter.bg-hidden::before {
    opacity: 0;
}

.tdmv-chapter::before {
    transition: opacity 1s ease;
}

.tdmv-chapter .tdmv-chapter-arrow {
    transition: opacity 0.5s ease, visibility 0.5s ease;
}

.tdmv-chapter.bg-hidden .tdmv-chapter-arrow {
    opacity: 0 !important;
    animation: none;
    visibility: hidden;
}

.tdmv-intro-chapter .tdmv-chapter-content {
    position: relative;
    z-index: 1;
}

.tdmv-intro-chapter::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background-image: url('../toen-de-mijnen-verdwenen/achtergrond.jpg');
    background-size: cover;
    background-position: center top;
    opacity: 0.1;
    pointer-events: none;
    z-index: 0;
    transform: scale(1.03);
    transform-origin: center top;
    transition: transform 14s ease-out, opacity 1s ease;
}

/* Zoom achtergrond na descent animatie */
.tdmv-intro-section.descended .tdmv-intro-chapter::before {
    transform: scale(1.18);
}

.tdmv-intro-chapter .tdmv-chapter-arrow {
    position: absolute;
    bottom: 3rem;
    right: 4rem;
    font-size: 1.5rem;
    color: var(--tdmv-text-muted);
    opacity: 0.4;
    animation: arrowPulse 2s ease-in-out infinite;
    cursor: pointer;
    z-index: 1;
}

.tdmv-intro-chapter .tdmv-chapter-arrow:hover {
    opacity: 1;
}

/* ========================================
   Insert Panels (full width with image)
   ======================================== */
.tdmv-insert {
    flex-shrink: 0;
    width: 100vw;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    scroll-snap-align: center;
    overflow: hidden;
}

.tdmv-insert.part-1 {
    background: rgba(197, 90, 17, 0.96);
    position: relative;
    transition: background 0.8s ease;
}

.tdmv-insert.part-1.bg-fade-out {
    background: transparent;
}

/* Subtle mine tunnel background for part 1 */
.tdmv-part1-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('../toen-de-mijnen-verdwenen/mijngang.jpg') center center / cover no-repeat;
    opacity: 0;
    z-index: 1;
    pointer-events: none;
    transition: opacity 1s ease;
}

.tdmv-part1-bg.visible {
    opacity: 0.12;
}
.tdmv-insert.part-2 {
    background: var(--tdmv-part2-accent);
    transition: opacity 0.8s ease, background 0.8s ease;
    position: relative;
    overflow: hidden;
}

.tdmv-insert.part-2::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('../toen-de-mijnen-verdwenen/sloop 1.jpg') center center / cover no-repeat;
    opacity: 0.08;
    pointer-events: none;
}

.tdmv-insert.part-2 .tdmv-slopen-layout {
    position: relative;
    z-index: 1;
}

.tdmv-insert.part-2.bg-fade-out {
    opacity: 0;
    pointer-events: none;
}

/* Het grote slopen - infographic layout */
/* New slopen layout */
.tdmv-slopen-layout {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
    width: 90vw;
    max-width: 1400px;
    padding: 2rem;
}

.tdmv-slopen-layout .tdmv-slopen-title {
    text-align: left;
    align-self: flex-start;
    margin-bottom: 1rem;
}

.tdmv-slopen-top {
    display: flex;
    align-items: stretch;
    justify-content: center;
    gap: 3rem;
    width: 100%;
}

/* Map comparison slider */
.tdmv-map-compare {
    position: relative;
    width: 50vw;
    max-width: 700px;
    height: 60vh;
    overflow: hidden;
    cursor: ew-resize;
    border-radius: 0 0 4px 4px;
}

.tdmv-map-compare img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.tdmv-map-compare .map-before {
    z-index: 1;
    clip-path: inset(0 50% 0 0);
}

.tdmv-map-compare .map-after {
    z-index: 0;
}

.map-compare-line {
    position: absolute;
    top: 0;
    left: 50%;
    width: 2px;
    height: 100%;
    background: rgba(255, 255, 255, 0.8);
    z-index: 2;
    pointer-events: none;
    transform: translateX(-50%);
}

.map-compare-line::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.map-compare-line::after {
    content: '◀ ▶';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 0.7rem;
    color: #333;
    z-index: 3;
    letter-spacing: 2px;
}

.map-compare-label {
    position: absolute;
    bottom: 1rem;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.9rem;
    color: white;
    background: rgba(0, 0, 0, 0.6);
    padding: 0.4rem 1rem;
    border-radius: 3px;
    letter-spacing: 0.05em;
    z-index: 3;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.map-compare-label.visible {
    opacity: 1;
}

.tdmv-map-compare-wrapper {
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
}

.map-compare-hint {
    background: #e1c85a;
    color: #ffffff;
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.8rem;
    text-align: center;
    padding: 0.5rem 1rem;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    border-radius: 4px 4px 0 0;
}

.tdmv-slopen-title {
    font-family: 'chloe', sans-serif;
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 400;
    color: var(--tdmv-text);
    margin: 0;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
    width: fit-content;
}

/* Visual Timeline 1974-1990 */
.tdmv-timeline-visual {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 0;
    padding: 1.5rem 1.5rem 1rem;
    background: rgba(0, 0, 0, 0.15);
    border-radius: 6px;
    min-width: 420px;
}

/* The main timeline line */
.tdmv-timeline-line {
    position: relative;
    height: 4px;
    background: linear-gradient(90deg,
        rgba(255, 255, 255, 0.8) 0%,
        rgba(255, 255, 255, 0.4) 50%,
        rgba(255, 255, 255, 0.2) 100%);
    border-radius: 2px;
    margin-bottom: 1.5rem;
}

.tdmv-timeline-start,
.tdmv-timeline-end {
    position: absolute;
    top: -1.5rem;
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.75rem;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.6);
}

.tdmv-timeline-start {
    left: 0;
}

.tdmv-timeline-end {
    right: 0;
}

/* Timeline periods */
.tdmv-timeline-period {
    position: relative;
    padding-left: 1.25rem;
    padding-bottom: 1rem;
    border-left: 2px solid rgba(255, 255, 255, 0.15);
    margin-left: 0.5rem;
}

.tdmv-timeline-period:last-child {
    padding-bottom: 0;
    border-left-color: transparent;
}

/* Period marker dot */
.tdmv-period-marker {
    position: absolute;
    left: -6px;
    top: 0;
    width: 10px;
    height: 10px;
    background: #fff;
    border-radius: 50%;
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);
}

.tdmv-timeline-period:first-child .tdmv-period-marker {
    background: var(--tdmv-part2-accent);
    box-shadow: 0 0 0 3px rgba(107, 122, 138, 0.3);
}

/* Period content */
.tdmv-period-content {
    padding-left: 0.75rem;
}

.tdmv-period-year {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.7rem;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.5);
    letter-spacing: 0.05em;
    margin-bottom: 0.15rem;
}

.tdmv-period-title {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.85rem;
    font-weight: 600;
    color: #fff;
    margin-bottom: 0.25rem;
}

.tdmv-period-summary {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.4;
}

/* Container for additional details */
.tdmv-period-details {
    margin-top: 0.5rem;
    padding-left: 0.5rem;
    border-left: 1px solid rgba(255, 255, 255, 0.1);
}

.tdmv-period-details:empty {
    display: none;
}

/* Detail items (for future expansion) */
.tdmv-period-detail {
    display: flex;
    align-items: baseline;
    gap: 0.5rem;
    padding: 0.25rem 0;
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.6);
}

.tdmv-period-detail-year {
    font-weight: 600;
    color: rgba(255, 255, 255, 0.5);
    min-width: 35px;
}

/* Legacy timeline classes (keep for backward compatibility) */
.tdmv-timeline {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem 2rem;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.15);
    border-radius: 6px;
    align-self: stretch;
}

.tdmv-timeline-item {
    display: flex;
    align-items: baseline;
    gap: 0.75rem;
    padding: 0.5rem 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.tdmv-timeline-item:nth-last-child(-n+2) {
    border-bottom: none;
}

.tdmv-timeline-year {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.85rem;
    font-weight: 700;
    color: #fff;
    min-width: 40px;
}

.tdmv-timeline-title {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.8);
}

/* Statistics row */
.tdmv-slopen-stats {
    display: flex;
    justify-content: center;
    gap: 4rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.15);
    width: 100%;
}

.tdmv-stat-item {
    text-align: center;
}

.tdmv-stat-number {
    font-family: 'Scala Sans', sans-serif;
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--tdmv-text);
    line-height: 1;
    margin-bottom: 0.3rem;
}

.tdmv-stat-number.negative {
    color: #c75050;
}

.tdmv-stat-number.positive {
    color: var(--tdmv-part3-accent);
}

.tdmv-stat-label {
    font-family: 'Scala Sans SC', sans-serif;
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: rgba(255, 255, 255, 0.7);
}
.tdmv-insert.part-3 {
    background: var(--tdmv-part3-accent);
    transition: opacity 1.5s ease, background 1.5s ease;
}

.tdmv-insert.part-3.bg-fade-out {
    opacity: 0;
    pointer-events: none;
}

/* Story end divider */
.tdmv-story-end {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    padding: 4rem 2rem;
    font-family: 'Scala Sans', sans-serif;
    font-size: 1.5rem;
    letter-spacing: 0.5em;
    color: var(--tdmv-text-muted);
    background: var(--tdmv-bg);
}

/* Uit het dal insert layout - 3 rijen */
.tdmv-uithetdal-content {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    gap: 2rem;
    padding: 3rem;
    width: 100%;
    max-width: 1300px;
}

.tdmv-uithetdal-content .tdmv-uithetdal-title {
    font-family: 'chloe', sans-serif;
    font-size: clamp(2.5rem, 5vw, 3.5rem);
    font-weight: 400;
    color: var(--tdmv-text);
    margin: 0;
    text-align: left;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
    width: fit-content;
}

/* Subtiele foto achtergrond in titel - nu via inline style in HTML */

/* 3-rijen container */
.tdmv-uithetdal-rows {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
    width: 100%;
}

/* Individuele rijen */
.tdmv-uithetdal-row {
    display: grid;
    gap: 1.25rem;
    width: 100%;
}

.tdmv-uithetdal-row.row-1 {
    grid-template-columns: 550px 1fr;
    align-items: start;
    gap: 3rem;
}

.tdmv-uithetdal-row.row-2 {
    grid-template-columns: repeat(4, 1fr);
}

.tdmv-uithetdal-row.row-3 {
    grid-template-columns: repeat(4, 1fr);
}

/* Foto in rij 1 */
.tdmv-uithetdal-photo-small {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

.tdmv-uithetdal-photo-small img {
    width: 100%;
    height: auto;
    object-fit: contain;
}

.tdmv-uithetdal-caption {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.7rem;
    font-style: italic;
    color: rgba(255, 255, 255, 0.65);
    margin-top: 0.6rem;
    line-height: 1.45;
}

/* Animatie items */
.tdmv-uithetdal-content .anim-item {
    opacity: 0;
    transform: translateY(25px);
    transition: opacity 0.6s ease, transform 0.6s ease;
    transition-delay: var(--anim-delay, 0s);
}

.tdmv-insert.in-view .tdmv-uithetdal-content .anim-item {
    opacity: 1;
    transform: translateY(0);
}

/* Bar animatie - start op 0 width */
.tdmv-uithetdal-content .tdmv-bar-fill {
    width: 0 !important;
    transition: width 1s ease;
    transition-delay: calc(var(--anim-delay, 0s) + 0.3s);
}

.tdmv-insert.in-view .tdmv-uithetdal-content .tdmv-bar-fill {
    width: var(--bar-width) !important;
}

/* Count-up nummer animatie */
.tdmv-parkstad-number.count-up {
    display: inline-block;
}

/* Uit het dal - layout with stats - titel links */
/* Note: content alignment is flex-start (set above) */

.tdmv-uithetdal-grid {
    display: flex;
    align-items: flex-start;
    gap: 3rem;
    max-width: 1200px;
}

/* Verwijderd: oude max-width beperking die foto klein hield */

.tdmv-uithetdal-caption {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.75rem;
    font-style: italic;
    color: rgba(255, 255, 255, 0.7);
    margin-top: 0.75rem;
    line-height: 1.5;
}

/* Parkstad statistics visualization */
.tdmv-parkstad-intro {
    font-family: 'Scala Sans SC', sans-serif;
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: rgba(255, 255, 255, 0.5);
    margin-bottom: 0.5rem;
}

.tdmv-parkstad-header {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
}

.tdmv-parkstad-population {
    font-family: 'Scala Sans', sans-serif;
    font-size: 3rem;
    font-weight: 700;
    color: var(--tdmv-text);
    line-height: 1;
}

.tdmv-parkstad-sublabel {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.8);
    margin-top: 0.2rem;
}

.tdmv-parkstad-gemeenten {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.5);
    margin-top: 0.6rem;
    letter-spacing: 0.02em;
}

.tdmv-parkstad-demographics {
    display: flex;
    gap: 1.2rem;
    margin-top: 0.8rem;
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.6);
}

.tdmv-parkstad-demographics span {
    white-space: nowrap;
}

.tdmv-parkstad-stat {
    background: rgba(0, 0, 0, 0.15);
    padding: 0.9rem 1.1rem;
    border-radius: 4px;
}

.tdmv-parkstad-stat.wide {
    /* Geen speciale styling nodig in nieuwe grid */
}

.tdmv-parkstad-stat-label {
    font-family: 'Scala Sans SC', sans-serif;
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: rgba(255, 255, 255, 0.6);
    margin-bottom: 0.75rem;
}

/* Bar chart rows */
.tdmv-parkstad-bars {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
}

.tdmv-parkstad-bar-row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.tdmv-bar-label {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.65rem;
    color: rgba(255, 255, 255, 0.7);
    width: 55px;
    flex-shrink: 0;
}

.tdmv-bar-track {
    flex: 1;
    height: 12px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    overflow: hidden;
}

.tdmv-bar-fill {
    height: 100%;
    border-radius: 2px;
    transition: width 1s ease;
}

.tdmv-bar-fill.parkstad {
    background: var(--tdmv-text);
}

.tdmv-bar-fill.compare {
    background: rgba(255, 255, 255, 0.4);
}

.tdmv-bar-value {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--tdmv-text);
    width: 40px;
    text-align: right;
    flex-shrink: 0;
}

/* Single stat display */
.tdmv-parkstad-single {
    display: flex;
    align-items: baseline;
    gap: 0.5rem;
}

.tdmv-parkstad-single.highlight-negative .tdmv-parkstad-number {
    color: #c75050;
}

.tdmv-parkstad-number {
    font-family: 'Scala Sans', sans-serif;
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--tdmv-text);
    line-height: 1;
}

.tdmv-parkstad-unit {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.6);
}

/* Dual stats */
.tdmv-parkstad-dual {
    display: flex;
    gap: 3rem;
}

.tdmv-parkstad-dual-item {
    display: flex;
    align-items: baseline;
    gap: 0.5rem;
}

/* Trend display */
.tdmv-parkstad-trend {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.tdmv-trend-text {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.9rem;
    color: var(--tdmv-text);
    font-style: italic;
}

.tdmv-trend-source {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.65rem;
    color: rgba(255, 255, 255, 0.4);
}

/* Responsive for Uit het dal stats */
@media (max-width: 1100px) {
    .tdmv-uithetdal-row.row-1 {
        grid-template-columns: 400px 1fr;
    }

    .tdmv-uithetdal-row.row-2,
    .tdmv-uithetdal-row.row-3 {
        grid-template-columns: repeat(2, 1fr);
    }

    .tdmv-parkstad-population {
        font-size: 2.5rem;
    }
}

@media (max-width: 767px) {
    .tdmv-uithetdal-content {
        padding: 2rem 1.5rem;
        align-items: center;
    }

    .tdmv-uithetdal-content .tdmv-uithetdal-title {
        text-align: center;
    }

    .tdmv-uithetdal-row.row-1 {
        grid-template-columns: 1fr;
        justify-items: center;
        text-align: center;
    }

    .tdmv-uithetdal-photo-small {
        max-width: 180px;
        align-items: center;
    }

    .tdmv-uithetdal-caption {
        text-align: center;
    }

    .tdmv-parkstad-header {
        align-items: center;
        text-align: center;
    }

    .tdmv-uithetdal-row.row-2,
    .tdmv-uithetdal-row.row-3 {
        grid-template-columns: 1fr;
    }

    .tdmv-parkstad-population {
        font-size: 2.2rem;
    }

    .tdmv-parkstad-number {
        font-size: 1.4rem;
    }

    .tdmv-parkstad-dual {
        flex-direction: column;
        gap: 1rem;
    }
}

/* Media insert layout */
.tdmv-insert:has(.tdmv-media-content) {
    width: auto;
    min-width: auto;
    margin-right: -12rem; /* Remove gap to end panel */
    background: var(--tdmv-part1-accent) !important; /* Oranje - suggereert breuk/postscriptum */
}

.tdmv-media-content {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    gap: 1.5rem;
    padding: 3rem;
    opacity: 0;
    transform: translateY(40px);
    transition: opacity 0.8s ease, transform 0.8s ease;
}

.tdmv-insert.in-view .tdmv-media-content {
    opacity: 1;
    transform: translateY(0);
}

.tdmv-media-title {
    font-family: 'chloe', sans-serif;
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 400;
    color: var(--tdmv-text);
    margin: 0;
    text-align: left;
}

/* Rij met foto's en tekst naast elkaar */
.tdmv-media-row {
    display: flex;
    align-items: flex-start;
    gap: 3rem;
}

.tdmv-media-photos {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
}

.tdmv-media-photos img {
    width: 300px;
    height: 210px;
    object-fit: cover;
    border-radius: 2px;
}

.tdmv-media-text {
    max-width: 380px;
    align-self: flex-start;
}

.tdmv-media-text p {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.95rem;
    line-height: 1.6;
    color: var(--tdmv-text);
    margin: 0 0 0.75rem 0;
}

.tdmv-media-text p:last-child {
    margin-bottom: 0;
}

.tdmv-media-text a {
    color: #ffffff;
    text-decoration: none;
    border-bottom: 1px solid rgba(255, 255, 255, 0.4);
    transition: border-color 0.3s ease, color 0.3s ease;
}

.tdmv-media-text a:hover {
    color: #ffffff;
    border-bottom-color: rgba(255, 255, 255, 0.9);
}

.tdmv-insert-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
    padding: 3rem;
    opacity: 0;
    transform: translateY(40px);
    transition: opacity 0.8s ease, transform 0.8s ease;
}

.tdmv-insert.in-view .tdmv-insert-content {
    opacity: 1;
    transform: translateY(0);
}

.tdmv-insert-title {
    font-family: 'chloe', sans-serif;
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 400;
    color: var(--tdmv-text);
    text-align: center;
    margin: 0;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
    width: fit-content;
    margin-left: auto;
    margin-right: auto;
}

.tdmv-insert-image {
    max-width: 80vw;
    max-height: 70vh;
    overflow: hidden;
}

.tdmv-insert-image img {
    width: 100%;
    height: auto;
    max-height: 70vh;
    object-fit: contain;
    opacity: 0;
    transform: scale(0.95);
    transition: opacity 1s ease 0.3s, transform 1s ease 0.3s;
}

.tdmv-insert.in-view .tdmv-insert-image img {
    opacity: 1;
    transform: scale(1);
}

.tdmv-photo-credit {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.75rem;
    font-style: italic;
    color: rgba(255, 255, 255, 0.6);
    margin-top: 0.5rem;
}

/* Map content layout */
.tdmv-map-content {
    display: grid !important;
    grid-template-columns: 35vw 35vw;
    grid-template-rows: auto 1fr;
    gap: 1rem 3rem;
    width: auto;
    justify-content: center;
}

.tdmv-map-content .tdmv-insert-title {
    grid-column: 1;
    grid-row: 1;
    text-align: left;
    font-size: clamp(2.5rem, 5vw, 4rem);
    margin-bottom: 0;
    width: 35vw;
    justify-self: start;
}

/* Leaflet Map */
.tdmv-leaflet-map {
    grid-column: 1;
    grid-row: 2;
    width: 35vw;
    height: 65vh;
    border-radius: 4px;
    opacity: 0;
    transform: scale(0.95);
    transition: opacity 1s ease 0.3s, transform 1s ease 0.3s;
}

.tdmv-insert.in-view .tdmv-leaflet-map {
    opacity: 1;
    transform: scale(1);
}

/* Mine statistics grid */
.tdmv-mine-stats {
    grid-column: 2;
    grid-row: 1 / 3;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem 1.5rem;
    width: 35vw;
    align-self: center;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.8s ease 0.5s, transform 0.8s ease 0.5s;
    align-content: center;
}

.tdmv-insert.in-view .tdmv-mine-stats {
    opacity: 1;
    transform: translateY(0);
}

/* Mine stats pagination (voor lage schermen) */
.tdmv-mine-stats-wrapper {
    display: flex;
    flex-direction: column;
    grid-column: 2;
    grid-row: 1 / 3;
    align-self: center;
}

.tdmv-mine-stats-wrapper .tdmv-mine-stats {
    grid-column: auto;
    grid-row: auto;
}

.tdmv-mine-stats-page {
    display: none;
}

.tdmv-mine-stats-page.active {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem 1.5rem;
}

.tdmv-mine-pagination {
    display: flex;
    gap: 0.5rem;
    margin-top: 1rem;
    justify-content: flex-start;
}

.tdmv-mine-pagination button {
    width: 2rem;
    height: 2rem;
    border: 1px solid rgba(255,255,255,0.4);
    background: transparent;
    color: rgba(255,255,255,0.6);
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.tdmv-mine-pagination button:hover {
    border-color: rgba(255,255,255,0.8);
    color: rgba(255,255,255,0.9);
}

.tdmv-mine-pagination button.active {
    background: rgba(255,255,255,0.2);
    border-color: var(--tdmv-part1-accent);
    color: #fff;
}

.tdmv-mine-stat {
    display: flex;
    flex-direction: column;
    padding: 0.5rem 0;
}

.tdmv-mine-stat-name {
    font-family: 'Scala Sans SC', sans-serif;
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    color: #1a1a1a;
    margin-bottom: 0.4rem;
    white-space: nowrap;
    cursor: pointer;
    transition: color 0.2s ease;
}

.tdmv-mine-stat-name:hover {
    color: #1a3a52;
}

.tdmv-mine-stat-location {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.55rem;
    color: #555;
    margin-bottom: 0.3rem;
    margin-top: -0.2rem;
}

.tdmv-mine-stat-bars {
    display: flex;
    flex-direction: column;
    gap: 3px;
    margin-bottom: 0.3rem;
}

.tdmv-mine-stat-bar {
    height: 14px;
    background: rgba(0, 0, 0, 0.15);
    border-radius: 2px;
    overflow: hidden;
}

.tdmv-mine-stat-bar-fill {
    height: 100%;
    background: #1a1a1a;
    border-radius: 2px;
    transition: width 1s ease 0.8s;
}

/* Worker bar */
.tdmv-worker-bar {
    height: 8px;
    margin-top: 2px;
    background: rgba(26, 58, 82, 0.25);
}

.tdmv-worker-fill {
    background: #1a3a52;
    border-radius: 2px;
}

.tdmv-mine-stat-data {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.65rem;
    color: #1a1a1a;
    line-height: 1.4;
}

.tdmv-mine-stat-data .tdmv-tons {
    color: #1a1a1a;
}

.tdmv-mine-stat-data .tdmv-workers {
    color: #1a3a52;
}

/* Custom Leaflet styling */
.mine-marker {
    background: var(--tdmv-part1-accent);
    border: 4px solid #fff;
    border-radius: 50%;
    width: 32px !important;
    height: 32px !important;
    margin-left: -16px !important;
    margin-top: -16px !important;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.mine-marker:hover {
    transform: scale(1.3);
    box-shadow: 0 0 20px rgba(197, 90, 17, 0.6);
}

.leaflet-popup-content-wrapper {
    background: #1a3a52;
    color: var(--tdmv-text);
    border-radius: 2px;
    font-family: 'Scala Sans', sans-serif;
}

.leaflet-popup-content {
    margin: 10px 14px;
    font-size: 0.9rem;
}

.leaflet-popup-tip {
    background: #1a3a52;
}

.mine-popup-img {
    width: 200px;
    height: auto;
    display: block;
    margin-bottom: 0.75rem;
    border-radius: 2px;
}

.leaflet-popup-close-button {
    color: var(--tdmv-text) !important;
}

/* ========================================
   Intro Section - Title | Text | Photo
   ======================================== */
.tdmv-intro {
    display: flex;
    align-items: center;
    gap: 3rem;
    min-width: max-content;
    height: 100vh;
    padding-top: 60px;
    scroll-snap-align: start;
    margin-right: 2rem;
}

.tdmv-title {
    font-family: 'chloe', sans-serif;
    font-style: normal;
    font-weight: 400;
    font-size: clamp(4rem, calc(-11rem + 27vw), 12rem);
    color: var(--tdmv-part1-accent);
    line-height: 1.0;
    white-space: nowrap;
    flex-shrink: 0;
    text-align: right;
}

.tdmv-title .title-line {
    display: block;
}

.tdmv-title .letter {
    display: inline-block;
    animation: letterCollapse 14s ease-in-out forwards;
    animation-delay: var(--fall-delay, 4s);
}

/* Line 1: T-o-e-n */
.tdmv-title .title-line:nth-child(1) .letter:nth-child(1) { --fall-delay: 4s; }
.tdmv-title .title-line:nth-child(1) .letter:nth-child(2) { --fall-delay: 4.12s; }
.tdmv-title .title-line:nth-child(1) .letter:nth-child(3) { --fall-delay: 4.06s; }
.tdmv-title .title-line:nth-child(1) .letter:nth-child(4) { --fall-delay: 4.18s; }

/* Line 2: d-e- -M-ij-n-e-n */
.tdmv-title .title-line:nth-child(2) .letter:nth-child(1) { --fall-delay: 4.22s; }
.tdmv-title .title-line:nth-child(2) .letter:nth-child(2) { --fall-delay: 4.28s; }
.tdmv-title .title-line:nth-child(2) .letter:nth-child(3) { --fall-delay: 4.35s; }
.tdmv-title .title-line:nth-child(2) .letter:nth-child(4) { --fall-delay: 4.15s; }
.tdmv-title .title-line:nth-child(2) .letter:nth-child(5) { --fall-delay: 4.32s; }
.tdmv-title .title-line:nth-child(2) .letter:nth-child(6) { --fall-delay: 4.25s; }
.tdmv-title .title-line:nth-child(2) .letter:nth-child(7) { --fall-delay: 4.4s; }
.tdmv-title .title-line:nth-child(2) .letter:nth-child(8) { --fall-delay: 4.2s; }

/* Line 3: v-e-r-d-w-e-n-e-n */
.tdmv-title .title-line:nth-child(3) .letter:nth-child(1) { --fall-delay: 4.38s; }
.tdmv-title .title-line:nth-child(3) .letter:nth-child(2) { --fall-delay: 4.5s; }
.tdmv-title .title-line:nth-child(3) .letter:nth-child(3) { --fall-delay: 4.42s; }
.tdmv-title .title-line:nth-child(3) .letter:nth-child(4) { --fall-delay: 4.55s; }
.tdmv-title .title-line:nth-child(3) .letter:nth-child(5) { --fall-delay: 4.35s; }
.tdmv-title .title-line:nth-child(3) .letter:nth-child(6) { --fall-delay: 4.6s; }
.tdmv-title .title-line:nth-child(3) .letter:nth-child(7) { --fall-delay: 4.48s; }
.tdmv-title .title-line:nth-child(3) .letter:nth-child(8) { --fall-delay: 4.58s; }
.tdmv-title .title-line:nth-child(3) .letter:nth-child(9) { --fall-delay: 4.65s; }

@keyframes letterCollapse {
    0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
    }
    /* Collapse at ~5-7s */
    8% {
        transform: translateY(5px) rotate(var(--rot-start, -2deg));
        opacity: 1;
    }
    15% {
        transform: translateY(120vh) rotate(var(--rot-end, -20deg));
        opacity: 0;
    }
    /* Stay hidden */
    84% {
        transform: translateY(0) rotate(0deg);
        opacity: 0;
    }
    /* Fade back in (simple) */
    100% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
    }
}

/* Random rotation directions for each letter */
.tdmv-title .letter:nth-child(odd) { --rot-start: -3deg; --rot-end: -25deg; }
.tdmv-title .letter:nth-child(even) { --rot-start: 2deg; --rot-end: 18deg; }
.tdmv-title .letter:nth-child(3n) { --rot-start: -1deg; --rot-end: -30deg; }
.tdmv-title .letter:nth-child(4n) { --rot-start: 4deg; --rot-end: 22deg; }

.tdmv-intro-text {
    width: 300px;
    flex-shrink: 0;
}

.tdmv-intro-text p {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.9rem;
    color: var(--tdmv-text);
    line-height: 1.75;
    margin-bottom: 1.2rem;
}

.tdmv-intro-text p:last-child {
    margin-bottom: 0;
}

.tdmv-intro-image {
    height: 100vh;
    flex-shrink: 0;
}

.tdmv-intro-image img {
    height: 100%;
    width: auto;
    object-fit: cover;
}

/* ========================================
   Photo Items with Caption
   ======================================== */
.tdmv-photo-block {
    display: flex;
    flex-direction: row;
    align-items: flex-end;
    gap: 1.5rem;
    flex-shrink: 0;
    scroll-snap-align: center;
}

.tdmv-photo-block img {
    height: 70vh;
    width: auto;
    object-fit: contain;
    opacity: 0;
    transition: opacity 0.6s ease, transform 0.15s ease-out;
    will-change: transform, opacity;
}

.tdmv-photo-block img.loaded {
    opacity: 1;
}

/* All photos default to 70vh, select few at 90vh */
.tdmv-photo-block img { height: 70vh; }
.tdmv-photo-block.size-large img { height: 90vh; }

/* Caption Box - Refined */
.tdmv-caption {
    background: rgba(15, 14, 13, 0.9);
    padding: 1.25rem 1.5rem;
    max-width: 320px;
    border-left: 2px solid;
}

/* Part-specific caption accent colors */
.part-1 .tdmv-caption { border-color: var(--tdmv-part1-accent); }
.part-2 .tdmv-caption { border-color: var(--tdmv-part2-accent); }
.part-3 .tdmv-caption { border-color: var(--tdmv-part3-accent); }

.tdmv-caption-header {
    font-family: 'Scala Sans SC', sans-serif;
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    margin-bottom: 0.6rem;
}

.part-1 .tdmv-caption-header { color: var(--tdmv-part1-accent); }
.part-2 .tdmv-caption-header { color: var(--tdmv-part2-accent); }
.part-3 .tdmv-caption-header { color: var(--tdmv-part3-accent); }

.tdmv-caption-text {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.8rem;
    color: var(--tdmv-text);
    line-height: 1.65;
}

/* ========================================
   Highlighted Photo with Panel
   ======================================== */
.tdmv-photo-highlight {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 0;
    flex-shrink: 0;
    scroll-snap-align: center;
}

.tdmv-highlight-img-wrapper {
    overflow: hidden;
    height: 100vh;
}

.tdmv-highlight-img-wrapper img {
    height: 100%;
    width: auto;
}

.tdmv-photo-highlight img {
    height: 100vh;
    width: auto;
    object-fit: contain;
    opacity: 0;
    transition: opacity 0.6s ease;
}

/* Horizontale foto's: foto 80vh, panel loopt erachter door */
.tdmv-photo-highlight.photo-horizontal .tdmv-highlight-img-wrapper {
    height: 80vh;
    position: relative;
    z-index: 2;
}

.tdmv-photo-highlight.photo-horizontal img {
    height: 80vh;
}

.tdmv-photo-highlight.photo-horizontal .tdmv-highlight-panel {
    margin-left: -80px;
    padding-left: calc(80px + 3.5rem);
    z-index: 1;
}

.tdmv-photo-highlight img.loaded {
    opacity: 1;
}

/* Delayed zoom effect for specific photos */
/* Cubic-bezier: langzaam starten, dan iets versnellen maar nog steeds traag */
.tdmv-photo-highlight img.zoom-delayed,
.tdmv-photo-block img.zoom-delayed {
    transition: opacity 0.6s ease, transform 14s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.tdmv-photo-highlight img.zoom-delayed.zoom-active,
.tdmv-photo-block img.zoom-delayed.zoom-active {
    transform: scale(1.06);
}

/* Photo block zoom wrapper */
.tdmv-photo-img-wrapper {
    height: 100%;
    overflow: hidden;
}

.tdmv-photo-img-wrapper img {
    height: 100%;
    width: auto;
    object-fit: cover;
}

.tdmv-highlight-panel {
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 2.5rem 3.5rem;
    width: 420px;
    height: 100vh;
}

.tdmv-photo-highlight.part-1 .tdmv-highlight-panel { background: rgba(197, 90, 17, 0.7); }
.tdmv-photo-highlight.part-2 .tdmv-highlight-panel { background: rgba(107, 122, 138, 0.7); }
.tdmv-photo-highlight.part-3 .tdmv-highlight-panel { background: rgba(139, 154, 107, 0.7); }

.tdmv-highlight-header {
    font-family: 'Scala Sans SC', sans-serif;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--tdmv-text);
    margin-bottom: 1rem;
    opacity: 0.7;
}

.tdmv-highlight-text {
    font-family: 'chloe', sans-serif;
    font-size: 2.2rem;
    color: var(--tdmv-text);
    line-height: 1.5;
}

.tdmv-highlight-description {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.9rem;
    color: var(--tdmv-text);
    line-height: 1.7;
    margin-top: 1.5rem;
    opacity: 0.85;
}

/* ========================================
   Quote Panels - Editorial Style
   ======================================== */
.tdmv-quote-panel {
    flex-shrink: 0;
    width: 420px;
    min-height: 50vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 3.5rem;
    scroll-snap-align: center;
    position: relative;
}

.tdmv-quote-panel.part-1 { background: var(--tdmv-part1-accent); }
.tdmv-quote-panel.part-2 { background: var(--tdmv-part2-accent); }
.tdmv-quote-panel.part-3 { background: var(--tdmv-part3-accent); }

.tdmv-quote-panel::before {
    content: '"';
    position: absolute;
    top: 2rem;
    left: 2rem;
    font-family: 'Playfair Display', serif;
    font-size: 6rem;
    line-height: 1;
    opacity: 0.15;
    color: var(--tdmv-text);
}

.tdmv-quote-text {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: clamp(1.1rem, 1.6vw, 1.35rem);
    color: var(--tdmv-text);
    line-height: 1.6;
    margin-bottom: 2rem;
    position: relative;
    z-index: 1;
}

.tdmv-quote-author {
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.7);
    letter-spacing: 0.05em;
}

/* ========================================
   Page Background Layer
   ======================================== */
.tdmv-bg-layer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--tdmv-bg);
    z-index: -2;
}

/* ========================================
   Part 1 Dust Overlay (fixed, covers photos 2-19)
   ======================================== */
.tdmv-dust-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 5;
    opacity: 0;
    transition: opacity 1s ease;
}

.tdmv-dust-overlay.active {
    opacity: 1;
}

/* ========================================
   Mine Background (disabled - now using pseudo-element on map section)
   ======================================== */
.tdmv-mine-bg {
    display: none;
}

/* ========================================
   Progress Indicator
   ======================================== */
.tdmv-progress {
    position: fixed;
    bottom: 2rem;
    left: 2rem;
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.4);
    z-index: 50;
    pointer-events: none;
    display: flex;
    align-items: baseline;
    gap: 0.1em;
}

.tdmv-progress-number {
    font-variant-numeric: tabular-nums;
    font-size: 1.1rem;
    font-weight: 500;
    color: rgba(255, 255, 255, 0.5);
    transition: color 0.3s ease;
}

.tdmv-progress-percent {
    font-size: 0.75rem;
    opacity: 0.7;
}

/* ========================================
   Sound Button
   ======================================== */
.tdmv-sound-btn {
    position: relative;
    width: 36px;
    height: 36px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.3s ease, border-color 0.3s ease;
}

.tdmv-sound-btn:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
}

.tdmv-sound-btn svg {
    width: 18px;
    height: 18px;
    color: rgba(255, 255, 255, 0.5);
    transition: color 0.3s ease;
}

.tdmv-sound-btn:hover svg {
    color: rgba(255, 255, 255, 0.7);
}

.tdmv-sound-btn .sound-off {
    display: none;
}

.tdmv-sound-btn.muted .sound-on {
    display: none;
}

.tdmv-sound-btn.muted .sound-off {
    display: block;
}

/* Sound wrapper (contains button + tooltip) - fixed position */
.tdmv-sound-wrapper {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    z-index: 50;
    display: flex;
    flex-direction: column;
    align-items: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.5s ease, visibility 0.5s ease;
}

.tdmv-sound-wrapper.visible {
    opacity: 1;
    visibility: visible;
}

/* Tooltip above sound button */
.tdmv-sound-tooltip {
    position: absolute;
    bottom: calc(100% + 12px);
    white-space: nowrap;
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.75rem;
    color: var(--tdmv-text);
    background: rgba(26, 24, 22, 0.95);
    padding: 0.5rem 0.85rem;
    border-radius: 4px;
    border: 1px solid rgba(197, 90, 17, 0.5);
    box-shadow: 0 0 15px rgba(197, 90, 17, 0.3), 0 0 30px rgba(197, 90, 17, 0.15);
    opacity: 0;
    visibility: hidden;
    transform: translateY(5px);
    transition: opacity 0.4s ease, transform 0.4s ease, visibility 0.4s ease;
}

.tdmv-sound-tooltip::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 6px solid transparent;
    border-top-color: rgba(26, 24, 22, 0.95);
}

.tdmv-sound-tooltip.visible {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
    animation: tooltipGlow 2s ease-in-out infinite;
}

@keyframes tooltipGlow {
    0%, 100% {
        box-shadow: 0 0 15px rgba(197, 90, 17, 0.3), 0 0 30px rgba(197, 90, 17, 0.15);
    }
    50% {
        box-shadow: 0 0 20px rgba(197, 90, 17, 0.5), 0 0 40px rgba(197, 90, 17, 0.25);
    }
}

/* Soundscape hint - absoluut gepositioneerd onder de tekst */
.tdmv-hero-text .tdmv-soundscape-hint {
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 1.5rem;
}

.tdmv-soundscape-hint {
    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    padding: 0.65rem 1.1rem;
    background: transparent;
    border: 1px solid rgba(197, 90, 17, 0.5);
    border-radius: 4px;
    color: var(--tdmv-part1-accent);
    font-family: 'Scala Sans', sans-serif;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.3s ease;
    animation: hintGlow 3s ease-in-out infinite;
}

.tdmv-soundscape-hint:hover {
    background: rgba(197, 90, 17, 0.15);
    border-color: var(--tdmv-part1-accent);
}

.tdmv-soundscape-hint svg {
    width: 18px;
    height: 18px;
}

.tdmv-soundscape-hint.active {
    background: rgba(197, 90, 17, 0.2);
    border-color: var(--tdmv-part1-accent);
    animation: none;
}

.tdmv-soundscape-hint.active span::after {
    content: ' ✓';
}

@keyframes hintGlow {
    0%, 100% {
        box-shadow: 0 0 0 rgba(197, 90, 17, 0);
    }
    50% {
        box-shadow: 0 0 15px rgba(197, 90, 17, 0.3);
    }
}

/* ========================================
   Small Desktop (800-1100px width)
   ======================================== */
@media (min-width: 768px) and (max-width: 1100px) {
    /* Hero content - smaller gap and text area */
    .tdmv-hero-content {
        gap: 3rem;
        padding: 0 2rem;
    }

    /* Foto's niet breder dan viewport */
    .tdmv-photo-block img {
        max-width: calc(100vw - 4rem);
    }

    .tdmv-photo-block {
        max-width: 100vw;
    }

    /* Titel en hero-text groeien nu vloeiend via base clamp() */

    .tdmv-hero-text p {
        font-size: 0.85rem;
        line-height: 1.6;
    }

    /* Highlighted: foto en panel zelfde hoogte, kleinere tekst */
    .tdmv-highlight-img-wrapper,
    .tdmv-highlight-panel,
    .tdmv-photo-highlight img {
        height: 70vh;
    }

    .tdmv-highlight-panel {
        width: 280px;
        padding: 1.5rem 2rem;
    }

    .tdmv-highlight-text {
        font-size: 1.2rem;
    }

    .tdmv-highlight-header {
        font-size: 0.6rem;
    }

    .tdmv-highlight-description {
        font-size: 0.8rem;
    }

    /* Chapter panels */
    .tdmv-chapter-title {
        font-size: 2.5rem;
    }

    .tdmv-chapter-intro {
        font-size: 0.9rem;
        max-width: 500px;
    }

    /* Intro chapter */
    .tdmv-intro-chapter {
        padding: 2rem;
    }

    .tdmv-intro-chapter .tdmv-chapter-intro {
        max-width: 450px;
    }
}

/* Very small desktop (800px and below width) */
@media (min-width: 768px) and (max-width: 900px) {
    .tdmv-hero-content {
        gap: 2rem;
        padding: 0 1.5rem;
    }

    /* Foto's en captions niet breder dan viewport */
    .tdmv-photo-block img {
        max-width: calc(100vw - 4rem);
        height: auto;
        max-height: 70vh;
    }

    .tdmv-photo-block.size-large img {
        max-height: 85vh;
    }

    .tdmv-photo-block {
        max-width: 100vw;
    }

    .tdmv-caption {
        max-width: 280px;
    }

    /* Mijnstreek insert - kleiner voor kleine schermen */
    .tdmv-map-content {
        grid-template-columns: 30vw 30vw;
        gap: 0.5rem 2rem;
    }

    .tdmv-leaflet-map {
        width: 30vw;
        height: 50vh;
    }

    .tdmv-mine-stats {
        width: 30vw;
        gap: 0.4rem 0.8rem;
    }

    .tdmv-mine-stat {
        padding: 0.4rem 0.6rem;
    }

    .tdmv-mine-name {
        font-size: 0.65rem;
    }

    .tdmv-mine-data {
        font-size: 0.55rem;
    }

    .tdmv-map-content .tdmv-insert-title {
        font-size: 1.8rem;
    }

    .tdmv-title {
        font-size: clamp(3.5rem, 9vw, 5rem);
    }

    .tdmv-hero-text {
        width: 240px;
    }

    .tdmv-hero-text p {
        font-size: 0.8rem;
    }

    /* Highlighted: foto en panel zelfde hoogte, kleinere tekst */
    .tdmv-highlight-img-wrapper,
    .tdmv-highlight-panel,
    .tdmv-photo-highlight img {
        height: 70vh;
    }

    .tdmv-highlight-panel {
        width: 180px;
        padding: 1rem 1.2rem;
    }

    .tdmv-highlight-text {
        font-size: 0.85rem;
        line-height: 1.35;
    }

    .tdmv-highlight-header {
        font-size: 0.5rem;
        margin-bottom: 0.4rem;
    }

    .tdmv-highlight-description {
        font-size: 0.65rem;
        margin-top: 0.4rem;
        line-height: 1.4;
    }

    /* Size-large */
    .tdmv-photo-highlight.size-large .tdmv-highlight-img-wrapper,
    .tdmv-photo-highlight.size-large .tdmv-highlight-panel,
    .tdmv-photo-highlight.size-large img {
        height: 85vh;
    }

    .tdmv-photo-highlight.size-large .tdmv-highlight-text {
        font-size: 0.95rem;
    }
}


/* Info button en caption overlay voor korte schermen */
@media (min-width: 768px) and (max-height: 949px) {
    .tdmv-photo-block,
    .tdmv-intro-photo {
        position: relative;
    }

    .tdmv-photo-block .tdmv-caption,
    .tdmv-intro-photo .tdmv-caption {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        max-width: none;
        width: 100%;
        box-sizing: border-box;
        border-left: none;
        border-top: 2px solid var(--tdmv-part1-accent);
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .tdmv-photo-block.part-2 .tdmv-caption {
        border-top-color: var(--tdmv-part2-accent);
    }

    .tdmv-photo-block.part-3 .tdmv-caption {
        border-top-color: var(--tdmv-part3-accent);
    }

    .tdmv-photo-block.info-active .tdmv-caption,
    .tdmv-intro-photo.info-active .tdmv-caption {
        opacity: 1;
        visibility: visible;
    }

    .tdmv-info-btn {
        position: absolute;
        bottom: 1rem;
        right: 1rem;
        width: 28px;
        height: 28px;
        background: rgba(255, 255, 255, 0.9);
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: 'Georgia', serif;
        font-size: 14px;
        font-style: italic;
        color: var(--tdmv-part1-accent);
        transition: all 0.3s ease;
        z-index: 10;
    }

    .tdmv-photo-block.part-2 .tdmv-info-btn {
        color: var(--tdmv-part2-accent);
    }

    .tdmv-photo-block.part-3 .tdmv-info-btn {
        color: var(--tdmv-part3-accent);
    }

    .tdmv-info-btn:hover {
        background: #ffffff;
        transform: scale(1.1);
    }

    .tdmv-photo-block.info-active .tdmv-info-btn,
    .tdmv-intro-photo.info-active .tdmv-info-btn {
        background: var(--tdmv-part1-accent);
        color: #ffffff;
    }

    .tdmv-photo-block.part-2.info-active .tdmv-info-btn {
        background: var(--tdmv-part2-accent);
    }

    .tdmv-photo-block.part-3.info-active .tdmv-info-btn {
        background: var(--tdmv-part3-accent);
    }
}

/* Aanpassingen voor korte schermen (< 1050px hoogte) */
@media (min-width: 768px) and (max-height: 1049px) {
    /* Het grote slopen - tijdslijn vereenvoudigen */
    .tdmv-timeline-period.desktop-only {
        display: none;
    }

    .tdmv-period-details {
        display: none;
    }

    .tdmv-map-compare {
        height: 45vh;
    }

    .tdmv-period-content {
        padding: 0.5rem 0.75rem;
    }

    .tdmv-period-year {
        font-size: 0.65rem;
    }

    .tdmv-period-title {
        font-size: 0.75rem;
    }

    .tdmv-period-summary {
        font-size: 0.65rem;
        line-height: 1.4;
    }

    /* Mine stats pagination */
    .tdmv-mine-stats-wrapper {
        width: 50vw;
        grid-column: 2;
        grid-row: 2;
        align-self: start;
    }

    .tdmv-mine-stats-wrapper .tdmv-mine-stats {
        width: 100%;
        grid-column: auto;
        grid-row: auto;
    }

    .tdmv-mine-stats-page.active {
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem 3rem;
    }

    .tdmv-mine-stats-wrapper .tdmv-mine-stat-name {
        font-size: 0.8rem;
    }

    .tdmv-mine-stats-wrapper .tdmv-mine-stat-location {
        font-size: 0.7rem;
    }

    .tdmv-mine-stats-wrapper .tdmv-mine-stat-data {
        font-size: 0.7rem;
    }

    /* Uit het dal - compacte layout */
    .tdmv-uithetdal-photo-small {
        display: none;
    }

    .tdmv-uithetdal-row.row-1 {
        grid-template-columns: 1fr;
    }

    /* Row 2 heeft nu 4 items (inclusief verplaatste Bevolkingstrend) */
    .tdmv-uithetdal-row.row-2 {
        grid-template-columns: repeat(4, 1fr);
    }

    /* Row 3 heeft nu 3 items */
    .tdmv-uithetdal-row.row-3 {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* Media insert aanpassingen voor korte schermen (≤ 750px hoogte) */
@media (min-width: 768px) and (max-height: 750px) {
    .tdmv-media-content {
        gap: 1rem;
    }

    .tdmv-media-title {
        font-size: clamp(1.5rem, 3vw, 2rem);
    }

    .tdmv-media-row {
        gap: 2rem;
    }

    .tdmv-media-photos {
        grid-template-columns: repeat(3, 1fr);
        gap: 0.5rem;
    }

    .tdmv-media-photos img {
        width: 180px;
        height: 126px;
    }

    .tdmv-media-text {
        max-width: 280px;
    }

    .tdmv-media-text p {
        font-size: 0.85rem;
        margin-bottom: 0.5rem;
    }
}

/* Small desktop height adjustments - alleen chapter panels, NIET foto hoogtes */
@media (min-width: 768px) and (max-height: 700px) {
    /* Intro chapter - kleinere padding en tekst */
    .tdmv-intro-chapter {
        padding: 1.5rem;
    }

    .tdmv-intro-chapter .tdmv-chapter-number {
        font-size: 0.7rem;
        margin-bottom: 0.3rem;
    }

    .tdmv-intro-chapter .tdmv-chapter-title {
        font-size: 2rem;
        margin-bottom: 0.3rem;
    }

    .tdmv-intro-chapter .tdmv-chapter-period {
        font-size: 0.85rem;
        margin-bottom: 1rem;
    }

    .tdmv-intro-chapter .tdmv-chapter-intro {
        font-size: 0.8rem;
        line-height: 1.5;
        max-width: 550px;
    }

    .tdmv-intro-chapter .tdmv-chapter-arrow {
        bottom: 1rem;
        right: 1.5rem;
    }

    /* Regular chapter panels */
    .tdmv-chapter {
        padding: 2rem;
    }

    .tdmv-chapter-title {
        font-size: 2rem;
    }

    .tdmv-chapter-intro {
        font-size: 0.8rem;
        line-height: 1.5;
    }
}

/* Very small height (600px) - alleen chapter panels */
@media (min-width: 768px) and (max-height: 650px) {
    .tdmv-intro-chapter {
        padding: 1rem;
    }

    .tdmv-intro-chapter .tdmv-chapter-number {
        font-size: 0.65rem;
    }

    .tdmv-intro-chapter .tdmv-chapter-title {
        font-size: 1.6rem;
    }

    .tdmv-intro-chapter .tdmv-chapter-intro {
        font-size: 0.7rem;
        line-height: 1.4;
    }

    .tdmv-intro-chapter .tdmv-chapter-period {
        font-size: 0.75rem;
        margin-bottom: 0.5rem;
    }

    /* Mijnstreek insert - kleiner voor lage viewports */
    .tdmv-insert {
        padding: 1rem 2rem;
    }

    .tdmv-map-content {
        grid-template-columns: 28vw 28vw;
        gap: 0.3rem 1.5rem;
    }

    .tdmv-map-content .tdmv-insert-title {
        font-size: 1.4rem;
        margin-bottom: 0.3rem;
    }

    .tdmv-leaflet-map {
        width: 28vw;
        height: 45vh;
    }

    .tdmv-mine-stats {
        width: 28vw;
        gap: 0.3rem 0.6rem;
    }

    .tdmv-mine-stat {
        padding: 0.3rem 0.5rem;
    }

    .tdmv-mine-name {
        font-size: 0.55rem;
    }

    .tdmv-mine-data {
        font-size: 0.5rem;
    }
}

/* ========================================
   Medium Desktop met Lage Hoogte (1100-1400px width, max 750px height)
   Voor resoluties zoals 1280x650
   ======================================== */
@media (min-width: 1100px) and (max-width: 1400px) and (max-height: 750px) {
    /* 1) Hero tekst smaller */
    .tdmv-hero-text {
        width: clamp(200px, 20vw, 280px);
    }

    .tdmv-hero-text p {
        font-size: clamp(0.75rem, 1.2vw, 0.85rem);
        line-height: 1.55;
    }

    .tdmv-title {
        font-size: clamp(4rem, 7vw, 5.5rem);
    }

    /* 2) Oranje caption boxes smaller en gecentreerd */
    .tdmv-caption {
        max-width: clamp(140px, 12vw, 180px);
        padding: clamp(0.75rem, 1vw, 1rem) clamp(0.9rem, 1.2vw, 1.2rem);
    }

    .tdmv-caption-header {
        font-size: clamp(0.5rem, 0.7vw, 0.6rem);
    }

    .tdmv-caption-text {
        font-size: clamp(0.65rem, 0.9vw, 0.75rem);
        line-height: 1.5;
    }

    .tdmv-photo-block {
        align-items: center;
    }

    /* 3) Het grote slopen insert - kaart lager, simpelere tijdlijn */
    .tdmv-slopen-layout {
        gap: 1rem;
        padding: 1rem;
        width: 85vw;
    }

    .tdmv-slopen-top {
        gap: 1.5rem;
        align-items: center;
    }

    .tdmv-map-compare {
        width: clamp(35vw, 40vw, 45vw);
        height: clamp(40vh, 50vh, 55vh);
    }

    .tdmv-slopen-title {
        font-size: clamp(1.8rem, 3vw, 2.5rem);
    }

    /* Simpelere tijdlijn */
    .tdmv-timeline-visual {
        min-width: 280px;
        padding: 1rem;
    }

    .tdmv-timeline-year {
        font-size: 0.6rem;
    }

    .tdmv-timeline-event {
        font-size: 0.55rem;
    }

    .tdmv-timeline-marker {
        width: 6px;
        height: 6px;
    }

    /* 4) Uit het dal insert - smaller */
    .tdmv-uithetdal-content {
        padding: 1.5rem;
        gap: 1rem;
        max-width: 95vw;
    }

    .tdmv-uithetdal-content .tdmv-uithetdal-title {
        font-size: clamp(1.8rem, 3.5vw, 2.5rem);
    }

    .tdmv-uithetdal-row.row-1 {
        grid-template-columns: clamp(300px, 35vw, 400px) 1fr;
        gap: 1.5rem;
    }

    .tdmv-uithetdal-row.row-2,
    .tdmv-uithetdal-row.row-3 {
        grid-template-columns: repeat(4, 1fr);
        gap: 0.75rem;
    }

    .tdmv-parkstad-stat {
        padding: 0.5rem;
    }

    .tdmv-parkstad-label {
        font-size: clamp(0.5rem, 0.7vw, 0.6rem);
    }

    .tdmv-parkstad-number {
        font-size: clamp(1.2rem, 2vw, 1.6rem);
    }

    .tdmv-parkstad-context {
        font-size: clamp(0.45rem, 0.6vw, 0.55rem);
    }

    /* Highlighted panels smaller */
    .tdmv-highlight-panel {
        width: clamp(160px, 15vw, 220px);
        padding: 1rem 1.2rem;
    }

    .tdmv-highlight-text {
        font-size: clamp(1rem, 1.5vw, 1.3rem);
    }

    .tdmv-highlight-description {
        font-size: clamp(0.65rem, 0.9vw, 0.8rem);
    }

    /* Chapter panels */
    .tdmv-chapter-title {
        font-size: clamp(2rem, 3.5vw, 2.8rem);
    }

    .tdmv-chapter-intro {
        font-size: clamp(0.75rem, 1vw, 0.9rem);
        max-width: 450px;
    }
}

/* ========================================
   Mobile Styles
   ======================================== */
@media (max-width: 767px) {
    /* ---- Base Layout ---- */
    .tdmv-page {
        overflow-x: hidden;
        overflow-y: auto;
    }

    .tdmv-page .horizontal-scroll-container {
        flex-direction: column;
        height: auto;
        overflow-x: hidden;
        overflow-y: visible;
        scroll-snap-type: none;
    }

    .tdmv-page .horizontal-scroll-content {
        flex-direction: column;
        height: auto;
        gap: 2.5rem;
        padding: 0;
    }

    /* ---- Navigation ---- */
    .tdmv-page .horizontal-nav {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        padding: 1rem 1.5rem;
        background: linear-gradient(to bottom, rgba(26, 24, 22, 0.95) 0%, rgba(26, 24, 22, 0) 100%);
        z-index: 100;
    }

    .tdmv-page .horizontal-nav .nav-title {
        font-size: 0.8rem;
    }

    /* ---- Progress Indicator ---- */
    .tdmv-progress {
        bottom: 1rem;
        left: 1rem;
        z-index: 90;
    }

    .tdmv-progress-number {
        font-size: 1rem;
        color: rgba(255, 255, 255, 0.35);
    }

    .tdmv-progress-percent {
        font-size: 0.65rem;
        color: rgba(255, 255, 255, 0.25);
    }

    /* ---- Background Layers ---- */
    .tdmv-bg-layer {
        position: fixed;
    }

    .tdmv-mine-bg,
    .tdmv-part1-bg {
        display: none !important;
    }

    .tdmv-dust-overlay {
        display: block;
        opacity: 0.5; /* Iets subtieler op mobiel */
    }

    .tdmv-dust-container {
        display: block;
    }

    /* Hide desktop-only content */
    .desktop-only {
        display: none !important;
    }

    /* ---- Intro Section ---- */
    .tdmv-intro-section {
        position: relative;
        width: 100%;
        height: auto;
        min-height: auto;
        overflow: visible;
    }

    .tdmv-descent {
        position: relative;
        height: auto;
        transform: none !important;
        display: flex;
        flex-direction: column;
    }

    /* Hero Panel */
    .tdmv-hero-panel {
        position: relative;
        height: auto;
        min-height: 100svh;
        padding: 5rem 1rem 3rem;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    .tdmv-hero-content {
        flex-direction: column;
        gap: 1.5rem;
        text-align: center;
        max-width: 100%;
    }

    .tdmv-title {
        font-size: 3.5rem;
        line-height: 1.1;
    }

    .tdmv-hero-text {
        max-width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .tdmv-hero-text p {
        font-size: 0.95rem;
        line-height: 1.7;
    }

    .tdmv-hero-text .tdmv-soundscape-hint {
        position: static;
        margin-top: 1.5rem;
    }

    .tdmv-descent-arrow {
        display: none;
    }

    /* Intro Photo (Foto 1) */
    .tdmv-intro-photo {
        position: relative;
        top: 0;
        height: auto;
        display: flex;
        flex-direction: column;
        padding: 0;
        background: transparent;
    }

    .tdmv-intro-photo::before,
    .tdmv-intro-photo::after {
        display: none !important;
    }

    .tdmv-intro-photo-wrapper {
        width: 100%;
    }

    .tdmv-intro-photo-wrapper picture,
    .tdmv-intro-photo-wrapper img {
        width: 100%;
        height: auto;
    }

    .tdmv-intro-photo > .tdmv-caption {
        display: block !important;
        position: relative !important;
        top: auto !important;
        bottom: auto !important;
        left: auto !important;
        right: auto !important;
        margin-top: 0.75rem;
        padding: 0.75rem 1.5rem 1rem;
        max-width: 100%;
        width: 100%;
        background: transparent;
        border-top: 2px solid var(--tdmv-part1-accent);
        border-left: none;
        /* Animatie via .visible class en IntersectionObserver */
    }

    /* Intro Chapter (Deel 1 in descent) */
    .tdmv-intro-chapter {
        position: relative;
        top: 0;
        height: auto;
        min-height: 100svh;
        padding: 2rem 1.5rem;
        display: flex;
        flex-direction: column;
        justify-content: center;
        background: linear-gradient(135deg, var(--tdmv-part1-bg) 0%, var(--tdmv-bg) 100%);
    }

    .tdmv-intro-chapter::before {
        display: none !important;
    }

    .tdmv-intro-chapter .tdmv-chapter-content {
        text-align: center;
    }

    .tdmv-intro-chapter .tdmv-chapter-title {
        font-size: 1.8rem;
    }

    .tdmv-intro-chapter .tdmv-chapter-intro {
        font-size: 0.9rem;
        text-align: left;
    }

    /* ---- Chapter Panels ---- */
    .tdmv-chapter {
        min-width: 100%;
        width: 100%;
        height: auto;
        min-height: 85svh;
        padding: 4rem 1.5rem 3rem;
    }

    .tdmv-chapter::before {
        width: 200px;
        height: 200px;
        filter: blur(60px);
    }

    .tdmv-chapter-content {
        max-width: 100%;
    }

    .tdmv-chapter-title {
        font-size: 1.8rem;
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .tdmv-chapter-title.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .tdmv-chapter-period {
        font-size: 0.75rem;
        margin-bottom: 2rem;
    }

    .tdmv-chapter-intro {
        font-size: 0.9rem;
        line-height: 1.7;
        text-align: left;
    }

    .tdmv-chapter-arrow {
        display: none;
    }

    /* ---- Photo Blocks ---- */
    .tdmv-photo-block {
        width: 100%;
        padding: 0;
        flex-shrink: 0;
        display: flex;
        flex-direction: column;
        gap: 0;
    }

    .tdmv-photo-block[style*="margin-left"] {
        margin-left: 0 !important;
    }

    .tdmv-photo-block img,
    .tdmv-photo-block picture img,
    .tdmv-photo-block.size-small img,
    .tdmv-photo-block.size-medium img,
    .tdmv-photo-block.size-large img,
    .tdmv-photo-block.size-full img {
        height: auto;
        width: 100%;
    }

    .tdmv-photo-block picture {
        width: 100%;
    }

    .tdmv-photo-img-wrapper {
        height: auto;
        width: 100%;
        overflow: visible;
    }

    .tdmv-photo-img-wrapper img {
        height: auto;
        width: 100%;
    }

    /* ---- Captions ---- */
    .tdmv-caption {
        position: relative;
        max-width: 100%;
        margin-top: 0.7rem;
        padding: 0.75rem 1.5rem;
        background: transparent;
        border-left: none;
        border-top: 2px solid;
        /* Fade-in animatie */
        opacity: 0;
        transform: translateY(15px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }

    .tdmv-caption.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .part-1 .tdmv-caption { border-top-color: var(--tdmv-part1-accent); }
    .part-2 .tdmv-caption { border-top-color: var(--tdmv-part2-accent); }
    .part-3 .tdmv-caption { border-top-color: var(--tdmv-part3-accent); }

    .tdmv-caption-header {
        font-size: 0.8rem;
        margin-bottom: 0.3rem;
    }

    .tdmv-caption-text {
        font-size: 0.8rem;
        line-height: 1.55;
        color: var(--tdmv-text-muted);
    }

    /* ---- Highlighted Photos ---- */
    .tdmv-photo-highlight {
        flex-direction: column;
        align-items: stretch;
        width: 100%;
        padding: 0;
        gap: 0;
    }

    .tdmv-highlight-img-wrapper {
        height: auto;
        width: 100%;
        overflow: hidden;
    }

    .tdmv-highlight-img-wrapper img,
    .tdmv-photo-highlight img {
        height: auto;
        width: 100%;
    }

    .tdmv-photo-highlight.size-large .tdmv-highlight-img-wrapper {
        height: auto;
    }

    .tdmv-photo-highlight.size-large img {
        height: auto;
    }

    .tdmv-highlight-panel {
        width: 100%;
        height: auto;
        padding: 1.25rem 1.5rem;
    }

    .tdmv-photo-highlight.size-large .tdmv-highlight-panel {
        height: auto;
    }

    .tdmv-highlight-header {
        font-size: 0.7rem;
        margin-bottom: 0.5rem;
    }

    .tdmv-highlight-text {
        font-size: 1.2rem;
        line-height: 1.4;
    }

    .tdmv-highlight-description {
        font-size: 0.8rem;
        margin-top: 0.75rem;
        line-height: 1.55;
    }

    /* Horizontale foto's (23a, 56) - panel direct onder foto */
    .tdmv-photo-highlight.photo-horizontal .tdmv-highlight-img-wrapper {
        height: auto;
    }

    .tdmv-photo-highlight.photo-horizontal img {
        height: auto;
        width: 100%;
    }

    .tdmv-photo-highlight.photo-horizontal .tdmv-highlight-panel {
        margin-left: 0;
        padding-left: 1.5rem;
        width: 100vw;
        box-sizing: border-box;
    }

    /* ---- Quote Panels ---- */
    .tdmv-quote-panel {
        width: 100%;
        padding: 2rem 1.5rem;
        min-height: auto;
    }

    /* ---- Insert Panels ---- */
    .tdmv-insert {
        width: 100%;
        height: auto;
        min-height: auto;
        padding: 2rem 1.5rem;
    }

    .tdmv-insert-content {
        padding: 0;
    }

    .tdmv-insert-title {
        font-size: 1.6rem;
        text-align: center;
        margin-bottom: 1.5rem;
    }

    /* Map Insert */
    .tdmv-map-content {
        display: flex !important;
        flex-direction: column;
        width: 100%;
        gap: 1.5rem;
    }

    .tdmv-map-content .tdmv-insert-title {
        text-align: center;
    }

    .tdmv-leaflet-map {
        width: 100%;
        height: 40vh;
        border-radius: 4px;
    }

    .tdmv-mine-stats {
        width: 100%;
        grid-template-columns: repeat(2, 1fr);
        gap: 0.4rem;
    }

    .tdmv-mine-stat {
        padding: 0.4rem 0.5rem;
    }

    .tdmv-mine-name {
        font-size: 0.65rem;
    }

    .tdmv-mine-bar-container {
        gap: 0.2rem;
    }

    .tdmv-mine-bar {
        height: 4px;
    }

    .tdmv-mine-value {
        font-size: 0.55rem;
    }

    /* Slopen Insert (Timeline) */
    .tdmv-slopen-layout {
        display: flex;
        flex-direction: column;
        gap: 2rem;
        padding: 0;
    }

    .tdmv-slopen-title {
        font-size: 1.6rem;
        text-align: center;
    }

    .tdmv-slopen-top {
        flex-direction: column;
        gap: 2rem;
    }

    .tdmv-map-compare-wrapper {
        width: 100%;
        order: 1;
    }

    .tdmv-map-compare {
        width: 100%;
        max-width: none;
        height: 35vh;
    }

    .map-compare-hint {
        font-size: 0.7rem;
        padding: 0.4rem 0.75rem;
    }

    .tdmv-timeline-visual {
        min-width: auto;
        width: 100%;
        order: 2;
    }

    .tdmv-timeline-line {
        display: none;
    }

    .tdmv-timeline-period {
        position: relative;
        left: 0;
        width: 100%;
        margin-bottom: 1.5rem;
    }

    .tdmv-period-marker {
        display: none;
    }

    .tdmv-period-content {
        position: relative;
        top: 0;
        transform: none;
        padding: 1rem;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 4px;
    }

    .tdmv-period-year {
        font-size: 0.9rem;
    }

    .tdmv-period-title {
        font-size: 1rem;
    }

    .tdmv-period-summary {
        font-size: 0.85rem;
    }

    .tdmv-period-details {
        display: none;
    }

    .tdmv-period-detail {
        font-size: 0.8rem;
    }

    .tdmv-period-summary {
        font-size: 0.8rem;
        line-height: 1.5;
    }

    .tdmv-slopen-stats {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
        order: 3;
    }

    .tdmv-stat-item {
        text-align: center;
    }

    .tdmv-stat-number {
        font-size: 1.5rem;
    }

    .tdmv-stat-label {
        font-size: 0.75rem;
    }

    /* Uit het Dal Insert */
    .tdmv-uithetdal-content {
        padding: 1rem 0;
        align-items: center;
    }

    .tdmv-uithetdal-content .tdmv-uithetdal-title {
        text-align: center;
        font-size: 1.6rem;
    }

    .tdmv-uithetdal-row {
        grid-template-columns: 1fr !important;
        gap: 1.5rem;
    }

    .tdmv-uithetdal-row.row-1 {
        justify-items: center;
        text-align: center;
    }

    .tdmv-uithetdal-photo-small {
        max-width: 100%;
        width: 100%;
    }

    .tdmv-uithetdal-caption {
        text-align: center;
    }

    .tdmv-parkstad-header {
        align-items: center;
        text-align: center;
    }

    .tdmv-parkstad-population {
        font-size: 2rem;
    }

    .tdmv-parkstad-number {
        font-size: 1.2rem;
    }

    .tdmv-parkstad-dual {
        flex-direction: column;
        gap: 1rem;
    }

    .tdmv-parkstad-stat {
        padding: 0.75rem;
    }

    /* Media Insert */
    .tdmv-insert:has(.tdmv-media-content) {
        padding: 2rem 0 !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
        width: 100% !important;
        margin: 0 !important;
        justify-content: flex-start !important;
        align-items: stretch !important;
        overflow: hidden;
    }

    .tdmv-media-content {
        padding: 0;
        gap: 1.5rem;
        width: 100%;
        align-items: stretch;
    }

    .tdmv-media-title {
        font-size: 1.6rem;
        text-align: left;
        padding-left: 1rem;
    }

    .tdmv-media-row {
        flex-direction: column;
        gap: 1.5rem;
        width: 100%;
        align-items: stretch;
    }

    .tdmv-media-photos {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.5rem;
        width: 95vw;
        padding: 0;
        margin: 0 auto;
    }

    .tdmv-media-photos img {
        width: 100%;
        height: auto;
        aspect-ratio: 4/3;
    }

    .tdmv-media-text {
        max-width: 100%;
        padding: 0 1rem;
    }

    .tdmv-media-text p {
        font-size: 0.9rem;
        text-align: left;
    }

    /* ---- Soundscape Controls ---- */
    .tdmv-soundscape-hint {
        font-size: 0.7rem;
        padding: 0.4rem 0.8rem;
        width: auto;
        align-self: center;
    }

    .tdmv-soundscape-hint svg {
        width: 16px;
        height: 16px;
    }

    .tdmv-sound-wrapper {
        bottom: 1.5rem;
        right: 1.5rem;
    }

    .tdmv-sound-btn {
        width: 40px;
        height: 40px;
    }

    .tdmv-sound-tooltip {
        display: none;
    }

    /* ---- End Panel ---- */
    .end-panel {
        min-width: 100vw !important;
        width: 100vw !important;
        max-width: 100vw !important;
        height: auto !important;
        min-height: 80svh;
        padding: 3rem 1.5rem !important;
        margin: 0 !important;
        margin-top: 0 !important;
        margin-right: 0 !important;
    }

    .end-panel nav {
        gap: 0.8rem !important;
    }

    .end-panel nav a {
        font-size: 0.9rem !important;
    }
}

/* ========================================
   Reduced Motion
   ======================================== */
@media (prefers-reduced-motion: reduce) {
    .tdmv-photo-block img {
        transition: opacity 0.3s ease;
        transform: none !important;
    }

    .tdmv-chapter-arrow {
        animation: none;
    }

    .tdmv-parallax-bg {
        display: none;
    }

    .tdmv-dust-container,
    .tdmv-dust-overlay {
        display: none;
    }

    .tdmv-dust-particle {
        animation: none;
    }
}
