<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Meta Tags -->
    <title>Het Noordzeekanaal Gebied | Wouter Zaalberg</title>
    <meta name="description" content="Fotoserie over het Noordzeekanaal gebied: industrie, natuur en landschap tussen Amsterdam en IJmuiden. Door documentaire fotograaf Wouter Zaalberg.">
    <meta name="keywords" content="Noordzeekanaal, Amsterdam, IJmuiden, industrie, landschap, documentaire fotografie, Wouter Zaalberg">
    <meta name="author" content="Wouter Zaalberg">
    <link rel="canonical" href="https://wouterzaalberg.nl/het-noordzeekanaal-gebied.html">

    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://wouterzaalberg.nl/het-noordzeekanaal-gebied.html">
    <meta property="og:title" content="Het Noordzeekanaal Gebied">
    <meta property="og:description" content="Fotoserie over het Noordzeekanaal gebied door Wouter Zaalberg.">
    <meta property="og:locale" content="nl_NL">

    <link rel="stylesheet" href="css/styles.css">
    <style>
        .photo-item {
            position: relative;
        }
        .photo-caption {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Scala Sans', sans-serif;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            background: rgba(0, 0, 0, 0.7);
            padding: 1rem 1.5rem;
            width: 80%;
            max-width: 600px;
            text-align: left;
        }
        .photo-pair {
            scroll-snap-align: center;
        }
        /* Info button */
        .nzkg-info-btn {
            position: absolute;
            bottom: 1rem;
            right: 1rem;
            width: 28px;
            height: 28px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Georgia', serif;
            font-size: 14px;
            font-style: italic;
            color: #2d6a8a;
            transition: all 0.3s ease;
            z-index: 10;
        }
        .nzkg-info-btn:hover {
            background: #ffffff;
            transform: scale(1.1);
        }
        .photo-item.info-active .nzkg-info-btn,
        .photo-pair.info-active .nzkg-info-btn {
            background: #2d6a8a;
            color: #ffffff;
        }

        /* Caption hidden by default, shown on info-active */
        .photo-caption {
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .photo-item.info-active .photo-caption,
        .photo-pair.info-active .pair-caption {
            opacity: 1;
            visibility: visible;
        }

        /* End panel */
        .end-panel {
            height: 100vh !important;
            width: 33vw !important;
            max-width: 600px !important;
            min-width: 300px !important;
            margin-top: -80px !important;
            padding-top: 80px !important;
            box-sizing: border-box !important;
            margin-right: -4rem !important;
        }

        .caption-main {
            font-size: 0.95rem;
            color: #ffffff;
            display: block;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
            margin-bottom: 0.5rem;
        }
        .caption-detail {
            font-size: 0.8rem;
            color: rgba(255,255,255,0.85);
            display: block;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
            line-height: 1.5;
            margin-bottom: 0.5rem;
        }
        .caption-location {
            font-size: 0.75rem;
            color: rgba(255,255,255,0.7);
            display: block;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
            font-style: italic;
        }

        /* Pair caption - desktop: show on hover of first photo */
        .pair-caption {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        /* Pair caption position - on right photo */
        .photo-pair {
            position: relative;
        }

        /* Large title with water effect */
        .nzkg-title-panel {
            min-width: 500px;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            padding: 2rem;
        }
        .nzkg-title {
            font-family: 'Scala Sans SC', sans-serif;
            font-size: 5rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            line-height: 1.05;
        }
        .nzkg-title-line {
            display: block;
            position: relative;
            background: linear-gradient(
                180deg,
                #1a4a6e 0%,
                #2d6a8a 15%,
                #4a8fa8 35%,
                #6ab4c8 50%,
                #4a8fa8 65%,
                #2d6a8a 85%,
                #1a4a6e 100%
            );
            background-size: 100% 300%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: waterFlow var(--wave-duration, 12s) ease-in-out infinite;
            animation-delay: var(--wave-delay, 0s);
        }
        .nzkg-title-line:nth-child(1) {
            --wave-duration: 11s;
            --wave-delay: 0s;
        }
        .nzkg-title-line:nth-child(2) {
            --wave-duration: 14s;
            --wave-delay: -2s;
        }
        .nzkg-title-line:nth-child(3) {
            --wave-duration: 10s;
            --wave-delay: -4s;
        }
        @keyframes waterFlow {
            0%, 100% { background-position: 0% 0%; }
            50% { background-position: 0% 50%; }
        }
        .nzkg-subtitle {
            font-family: 'Scala Sans', sans-serif;
            font-size: 0.95rem;
            line-height: 1.9;
            color: rgba(0,0,0,0.7);
            margin-top: 2rem;
            max-width: 400px;
        }

        /* Map insert */
        .nzkg-map-insert {
            min-width: 60vw;
            height: 100vh;
            margin-top: -80px;
            padding: 2rem;
            padding-top: calc(2rem + 80px);
            padding-bottom: calc(2rem + 80px);
            background: linear-gradient(
                180deg,
                #1a4a6e 0%,
                #2d6a8a 15%,
                #4a8fa8 35%,
                #6ab4c8 50%,
                #4a8fa8 65%,
                #2d6a8a 85%,
                #1a4a6e 100%
            );
            background-size: 100% 300%;
            animation: waterFlow 14s ease-in-out infinite;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            box-sizing: border-box;
        }
        .nzkg-map-insert .nzkg-map-inner {
            align-self: center;
        }
        .nzkg-map-header {
            width: 90%;
            text-align: left;
            margin-bottom: 1rem;
        }
        .nzkg-map-inner {
            width: 90%;
            height: 70vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        .leaflet-control-attribution {
            display: none !important;
        }
        .nzkg-map-title {
            font-family: 'Scala Sans SC', sans-serif;
            font-size: 1.2rem;
            color: #ffffff;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 0.3rem;
        }
        .nzkg-map-subtitle {
            font-family: 'Scala Sans', sans-serif;
            font-size: 0.85rem;
            color: rgba(255,255,255,0.6);
        }
        .nzkg-map-container {
            width: 100%;
            height: 100%;
            position: relative;
        }
        #locationMap {
            width: 100%;
            height: 100%;
        }
        .nzkg-marker {
            background: #4a8fa8;
            border: 3px solid #ffffff;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.5);
            transition: transform 0.2s ease;
        }
        .nzkg-marker:hover {
            transform: scale(1.2);
        }
        .nzkg-marker-thumb {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 3px solid #ffffff;
            box-shadow: 0 3px 12px rgba(0,0,0,0.5);
            overflow: hidden;
            transition: transform 0.2s ease;
        }
        .nzkg-marker-thumb:hover {
            transform: scale(1.15);
        }
        .nzkg-marker-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .nzkg-marker-label {
            background: rgba(26, 42, 58, 0.95);
            border: none;
            border-radius: 4px;
            padding: 0.5rem 0.75rem;
            font-family: 'Scala Sans', sans-serif;
            font-size: 0.8rem;
            color: #ffffff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            white-space: nowrap;
        }
        .nzkg-marker-label .photo-num {
            color: #6ab4c8;
            font-weight: 600;
            margin-right: 0.3rem;
        }
        .leaflet-popup-content-wrapper {
            background: rgba(26, 42, 58, 0.9) !important;
            border-radius: 0 !important;
            box-shadow: 0 1px 4px rgba(0,0,0,0.2) !important;
            padding: 0.5rem 0.7rem !important;
        }
        .leaflet-popup-content {
            font-family: 'Scala Sans', sans-serif !important;
            font-size: 0.9rem !important;
            color: #ffffff !important;
            margin: 0 !important;
            line-height: 1.4 !important;
            white-space: nowrap !important;
            text-align: center !important;
        }
        .leaflet-popup-content strong {
            color: #6ab4c8 !important;
            font-size: 0.95rem !important;
            display: block !important;
        }
        .leaflet-popup-tip {
            background: rgba(26, 42, 58, 0.9) !important;
        }

        /* ===== DESKTOP KLEIN 768-1400px ===== */
        @media (max-width: 1400px) and (min-width: 768px) {
            .horizontal-scroll-content {
                gap: clamp(4rem, 8vw, 12rem) !important;
            }

            .nzkg-title-panel {
                min-width: auto;
                max-width: clamp(300px, 45vw, 500px);
            }

            .nzkg-title {
                font-size: clamp(2.5rem, 5vw, 4rem);
            }

            .nzkg-subtitle {
                max-width: clamp(250px, 40vw, 400px);
                font-size: 0.85rem;
            }

            .nzkg-map-insert {
                min-width: 50vw;
            }

            .end-panel {
                height: auto !important;
                min-height: 70vh;
                min-width: 500px !important;
                padding: 2rem !important;
            }

            .end-panel p {
                margin-bottom: 1.5rem !important;
            }

            .end-panel nav {
                gap: 0.4rem !important;
            }
        }

        /* ===== MOBILE STYLES ===== */
        @media (max-width: 767px) {
            /* Hide info button on mobile - captions show on scroll */
            .nzkg-info-btn {
                display: none !important;
            }
            .photo-caption {
                position: relative !important;
                opacity: 1 !important;
                visibility: visible !important;
                bottom: auto !important;
                left: auto !important;
                transform: none !important;
                width: 100% !important;
                max-width: none !important;
                padding: 1rem 1.5rem !important;
                background: transparent !important;
                margin-top: 0.5rem;
            }

            /* Navigatie */
            .horizontal-nav {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                z-index: 100;
                padding: 1rem 1.5rem !important;
                background: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, transparent 100%);
            }

            /* Scroll container - verticaal op mobile */
            .horizontal-scroll-container {
                flex-direction: column !important;
                height: auto !important;
                min-height: 100vh;
                overflow-x: hidden !important;
                overflow-y: visible !important;
            }

            .horizontal-scroll-content {
                flex-direction: column !important;
                padding: 0 !important;
                gap: 2rem !important;
                min-height: auto !important;
            }

            /* Eerste foto - ruimte voor navigatie */
            .horizontal-scroll-content > .photo-item:first-child {
                padding-top: 5.5rem;
            }

            /* Foto's */
            .photo-item {
                height: auto !important;
                width: 94vw;
                margin: 0 auto;
            }

            .photo-item img {
                width: 100%;
                height: auto;
            }

            /* Titel panel */
            .nzkg-title-panel {
                min-width: auto !important;
                max-width: none !important;
                width: 94vw;
                margin: 0 auto;
                padding: 1.5rem !important;
            }

            .nzkg-title {
                font-size: 14vw !important;
                line-height: 1 !important;
            }

            .nzkg-subtitle {
                font-size: 0.9rem;
                margin-top: 1.5rem;
                max-width: none;
            }

            /* Title/subtitle fade-in animation */
            .nzkg-title {
                opacity: 0;
                transform: translateY(20px);
                transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            }

            .nzkg-title.visible {
                opacity: 1;
                transform: translateY(0);
            }

            .nzkg-subtitle {
                opacity: 0;
                transform: translateY(15px);
                transition: opacity 0.6s ease-out 0.3s, transform 0.6s ease-out 0.3s;
            }

            .nzkg-subtitle.visible {
                opacity: 1;
                transform: translateY(0);
            }

            /* Foto paren - verticaal stapelen */
            .photo-pair {
                display: flex;
                flex-direction: column !important;
                gap: 0.5rem !important;
                width: 94vw;
                margin: 0 auto;
            }

            .photo-pair .photo-item {
                width: 100%;
            }

            /* Captions altijd zichtbaar op mobile */
            .photo-caption {
                position: relative !important;
                bottom: auto !important;
                left: auto !important;
                transform: translateY(15px) !important;
                opacity: 0 !important;
                width: 100% !important;
                max-width: none !important;
                margin-top: 0.3rem;
                padding: 0.5rem 0 !important;
                background: transparent !important;
                pointer-events: auto !important;
                transition: opacity 0.6s ease-out, transform 0.6s ease-out !important;
            }

            .photo-caption.visible {
                opacity: 1 !important;
                transform: translateY(0) !important;
            }

            /* Pair captions - positioned after both photos */
            .pair-caption {
                position: relative !important;
                bottom: auto !important;
                left: auto !important;
                transform: translateY(15px) !important;
                width: 100% !important;
                margin-top: -0.2rem !important;
            }

            .caption-main {
                font-size: 0.85rem;
                color: rgba(0, 0, 0, 0.85);
                text-shadow: none;
            }

            .caption-detail {
                font-size: 0.75rem;
                color: rgba(0, 0, 0, 0.65);
                text-shadow: none;
            }

            .caption-location {
                font-size: 0.7rem;
                color: rgba(0, 0, 0, 0.5);
                text-shadow: none;
            }

            /* Map insert */
            .nzkg-map-insert {
                min-width: auto !important;
                width: 94vw !important;
                height: 60vh !important;
                margin: 0 auto;
                padding: 1.5rem !important;
            }

            .nzkg-map-header {
                width: 100%;
            }

            .nzkg-map-title {
                font-size: 1rem;
            }

            .nzkg-map-subtitle {
                font-size: 0.75rem;
            }

            .nzkg-map-inner {
                width: 100%;
                height: 85%;
            }

            /* End panel */
            .end-panel {
                min-width: auto !important;
                width: 100% !important;
                height: auto !important;
                min-height: 70vh;
                padding: 2rem 1.5rem !important;
            }
        }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body class="horizontal-scroll-page">
    <nav class="horizontal-nav" style="padding-left: 4rem;">
        <div>
            <a href="/" class="back-link">← Terug</a>
            <span class="nav-title">Het Noordzeekanaal Gebied</span>
        </div>
    </nav>

    <!-- Share Button -->
    <button class="share-button" id="shareButton" aria-label="Deel deze pagina">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"/></svg>
    </button>
    <div class="share-dropdown" id="shareDropdown">
        <a href="#" id="shareWhatsApp" target="_blank" rel="noopener"><svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>WhatsApp</a>
        <a href="#" id="shareFacebook" target="_blank" rel="noopener"><svg viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>Facebook</a>
        <a href="#" id="shareTwitter" target="_blank" rel="noopener"><svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>X</a>
        <a href="#" id="shareLinkedIn" target="_blank" rel="noopener"><svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>LinkedIn</a>
        <a href="#" id="shareEmail"><svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>Email</a>
        <button id="copyLink"><svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg><span>Kopieer link</span></button>
    </div>

    <div class="horizontal-scroll-container" id="scrollContainer">
        <div class="horizontal-scroll-content" style="gap: 12rem;">
            <div class="photo-item">
                <img src="het-noordzeekanaal-gebied/2.jpg" alt="Het Noordzeekanaal Gebied" loading="eager">
            </div>

            <div class="nzkg-title-panel">
                <h1 class="nzkg-title">
                    <span class="nzkg-title-line">Het Noordzee</span>
                    <span class="nzkg-title-line">kanaal</span>
                    <span class="nzkg-title-line">Gebied</span>
                </h1>
                <p class="nzkg-subtitle">
                    Het Noordzeekanaal verbindt Amsterdam met de zee. Een landschap van industrie en natuur, van containerschepen en reigers. Een gebied in transitie.
                </p>
            </div>

            <div class="photo-item">
                <img src="het-noordzeekanaal-gebied/1.jpg" alt="Het Noordzeekanaal Gebied" loading="eager">
                <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                <div class="photo-caption">
                    <span class="caption-main">Wieslaw snijdt oude stoomleidingen door bij de sloop van de energiecentrale Hemweg 08.</span>
                    <span class="caption-detail">Sinds 2019 sloot deze centrale van Vattenfall, als onderdeel van de energietransitie. Het puin (o.a. 140.000 ton beton en 40.000 ton staal) wordt hergebruikt.</span>
                    <span class="caption-location">Locatie: Westelijk Havengebied Amsterdam</span>
                </div>
            </div>

            <div class="photo-pair">
                <div class="photo-item">
                    <img src="het-noordzeekanaal-gebied/3.jpg" alt="Het Noordzeekanaal Gebied" loading="eager">
                </div>
                <div class="photo-item">
                    <img src="het-noordzeekanaal-gebied/4.jpg" alt="Het Noordzeekanaal Gebied" loading="eager">
                    <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                </div>
                <div class="photo-caption pair-caption">
                    <span class="caption-main">Jolanda, hoofdoperator bij het afvalenergiebedrijf AEB Amsterdam.</span>
                    <span class="caption-detail">AEB zet restafval om in stoom, waarmee zij elektriciteit opwekt voor zo'n 365.000 huishoudens en warmte levert aan 40.000 woningen in Amsterdam-Noord via stadsverwarming. Vanaf 2028 vangt AEB ook CO₂ af en zet zo de volgende stap naar een nóg duurzamere, circulaire toekomst voor de regio.</span>
                    <span class="caption-location">Locatie: Westelijk Havengebied Amsterdam</span>
                </div>
            </div>
            <div class="photo-item" style="height: 90vh;">
                <img src="het-noordzeekanaal-gebied/5.jpg" alt="Het Noordzeekanaal Gebied" loading="eager">
                <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                <div class="photo-caption">
                    <span class="caption-main">Manon, omgevingsmanager voor de Energiehaven</span>
                    <span class="caption-detail">De Energiehaven IJmond wordt een haven specifiek gericht op de bouw van windparken op zee. Deze komt op de plaats waar nu de Averijhaven ligt. De ontwikkeling van de Energiehaven is een samenwerking tussen provincie Noord-Holland, gemeente Velsen, Zeehaven IJmuiden en Port of Amsterdam. Ook het Rijk en Tata Steel zijn betrokken.</span>
                    <span class="caption-location">Locatie: IJmond</span>
                </div>
            </div>
            <div class="photo-pair">
                <div class="photo-item">
                    <img src="het-noordzeekanaal-gebied/6.jpg" alt="Het Noordzeekanaal Gebied" loading="eager">
                </div>
                <div class="photo-item">
                    <img src="het-noordzeekanaal-gebied/7.jpg" alt="Het Noordzeekanaal Gebied" loading="lazy">
                    <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                </div>
                <div class="photo-caption pair-caption">
                    <span class="caption-main">Jimmy, stuwadoor bij HES Bulk Terminal Amsterdam.</span>
                    <span class="caption-detail">Jimmy verplaatst allerlei bulkgoederen met diverse machines en bedient ook grote kranen. Op het terrein van HES Bulk Terminal Amsterdam is goed te zien dat kolenvelden steeds meer plaats maken voor andere bulkgoederen zoals duurzame bouwmaterialen en agri-producten zoals granen.</span>
                    <span class="caption-location">Locatie: Westelijk Havengebied Amsterdam</span>
                </div>
            </div>
            <div class="photo-item">
                <img src="het-noordzeekanaal-gebied/8.jpg" alt="Het Noordzeekanaal Gebied" loading="lazy">
                <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                <div class="photo-caption">
                    <span class="caption-main">Lousanne, directeur van het Programmabureau Noordzeekanaalgebied (NZKG).</span>
                    <span class="caption-detail">In dit gebied moet plaats worden gemaakt voor een 380 kV transformatorstation om de regio van voldoende stroom te blijven voorzien. Tegelijk vragen natuur, water en andere toekomstige functies om plek. Het Programmabureau NZKG brengt dit samen met partijen in beeld en helpt keuzes te maken.</span>
                    <span class="caption-location">Locatie: Houtrakpolder</span>
                </div>
            </div>

            <!-- Map Insert -->
            <div class="nzkg-map-insert" id="mapInsert">
                <div class="nzkg-map-header">
                    <h2 class="nzkg-map-title">De Locaties</h2>
                    <p class="nzkg-map-subtitle">Van IJmuiden tot Amsterdam — het Noordzeekanaalgebied in beeld</p>
                </div>
                <div class="nzkg-map-inner">
                    <div class="nzkg-map-container">
                        <div id="locationMap"></div>
                    </div>
                </div>
            </div>

            <div class="photo-item">
                <img src="het-noordzeekanaal-gebied/9.jpg" alt="Het Noordzeekanaal Gebied" loading="lazy">
                <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                <div class="photo-caption">
                    <span class="caption-main">Etteray, procesoperator bij EVOS. Hij controleert leidingen waardoor benzine of diesel naar de tanks stroomt.</span>
                    <span class="caption-detail">EVOS is actief in opslag en overslag van brandstoffen. Er is een pijpleidingverbinding naar Schiphol voor aanvoer van Jet Fuel. De tanks zijn klaar voor opslag van duurzame biobrandstoffen voor klanten en er wordt gekeken naar mogelijkheden voor waterstof.</span>
                    <span class="caption-location">Locatie: Westelijk Havengebied Amsterdam</span>
                </div>
            </div>
            <div class="photo-pair">
                <div class="photo-item">
                    <img src="het-noordzeekanaal-gebied/10.jpg" alt="Het Noordzeekanaal Gebied" loading="lazy">
                </div>
                <div class="photo-item">
                    <img src="het-noordzeekanaal-gebied/11.jpg" alt="Het Noordzeekanaal Gebied" loading="lazy">
                    <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                </div>
                <div class="photo-caption pair-caption">
                    <span class="caption-main">Leon werkt als monteur bij Olam food ingredients (ofi) in Koog aan de Zaan.</span>
                    <span class="caption-detail">Ofi is een leverancier van cacaopoeder, boter en massa. De producten van ofi vind je o.a. terug in OREO en de Mars. Door verbranding van eigen cacaodoppen in een biomassa installatie voor het maken van stoom is het aardgasverbruik gehalveerd.</span>
                    <span class="caption-location">Locatie: Zaanstreek</span>
                </div>
            </div>
            <div class="photo-item">
                <img src="het-noordzeekanaal-gebied/12.jpg" alt="Het Noordzeekanaal Gebied" loading="lazy">
                <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                <div class="photo-caption">
                    <span class="caption-main">Koen, Field Service Engineer bij Strohm.</span>
                    <span class="caption-detail">Strohm maakt sterke, lichte buizen die worden gebruikt om olie, gas, waterstof of CO₂ veilig door te voeren. Ze roesten niet, zijn makkelijk te installeren en gaan lang mee. Zo helpen ze hun klanten duurzamer te werken en dragen ze bij aan een schonere energievoorziening.</span>
                    <span class="caption-location">Locatie: IJmond</span>
                </div>
            </div>
            <div class="photo-item">
                <img src="het-noordzeekanaal-gebied/13.jpg" alt="Het Noordzeekanaal Gebied" loading="lazy">
                <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                <div class="photo-caption">
                    <span class="caption-main">Jaap, projectdirecteur Hollandse Kust West van TenneT.</span>
                    <span class="caption-detail">Via het 380 kV transformatorstation Wijk aan Zee van TenneT komt energie van windmolens vanaf zee op het hoogspanningsnet. Dit bedient ruim 2 miljoen huishoudens. Nu zorgen windparken in Nederland voor 16% van de elektriciteit. Omdat de vraag naar elektriciteit enorm stijgt, moeten er meer windparken en transformatorstations bijkomen.</span>
                    <span class="caption-location">Locatie: IJmond</span>
                </div>
            </div>
            <div class="photo-item">
                <img src="het-noordzeekanaal-gebied/14.jpg" alt="Het Noordzeekanaal Gebied" loading="lazy">
                <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                <div class="photo-caption">
                    <span class="caption-main">Jan werkt bij de havendienst van de Zeehaven IJmuiden waar hij onder andere schepen aansluit op walstroom.</span>
                    <span class="caption-detail">Een aansluiting op het elektriciteitsnet van de wal zorgt voor veel minder schadelijke uitstoot en geluidsoverlast dan het laten draaien van dieselmotoren. In de toekomst hopen ze meer walstroomaansluitingen te realiseren.</span>
                    <span class="caption-location">Locatie: IJmond</span>
                </div>
            </div>
            <div class="photo-item" style="height: 90vh;">
                <img src="het-noordzeekanaal-gebied/15.jpg" alt="Het Noordzeekanaal Gebied" loading="lazy">
                <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                <div class="photo-caption">
                    <span class="caption-main">Angeliki leidt bij Tata Steel Nederland (TSN) de teams die de DeNOx gaan testen.</span>
                    <span class="caption-detail">Deze installatie wordt nu gebouwd en reduceert straks de uitstoot van stikstof (NOx). Samen met de grootste stofzuiger van Nederland (tegen stof, lood en andere zware metalen) en de nieuwe waterzuiveringsinstallatie maakt 'ie de industrie schoner. In 2045 wil de staalgigant zelfs volledig klimaatneutraal zijn.</span>
                    <span class="caption-location">Locatie: IJmond</span>
                </div>
            </div>
            <div class="photo-item">
                <img src="het-noordzeekanaal-gebied/16.jpg" alt="Het Noordzeekanaal Gebied" loading="lazy">
                <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                <div class="photo-caption">
                    <span class="caption-main">Willem, Installatietechnicus Elektro en Instrumentatie bij het compressor- en mengstation Beverwijk van Gasunie.</span>
                    <span class="caption-detail">Gasunie test of de bestaande aardgasleiding tussen Spaarndam en Beverwijk geschikt is voor het transport van waterstof. De verwachting is dat er in het Noordzeekanaalgebied in 2030 naast aardgas ook waterstof wordt getransporteerd.</span>
                    <span class="caption-location">Locatie: Heemskerk</span>
                </div>
            </div>
            <div class="photo-item">
                <img src="het-noordzeekanaal-gebied/17.jpg" alt="Het Noordzeekanaal Gebied" loading="lazy">
                <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                <div class="photo-caption">
                    <span class="caption-main">Anita, medewerker bij de divisie Organics van Renewi waar ze organische reststoffen verwerken en omzetten in biogas.</span>
                    <span class="caption-detail">Renewi zamelt afval in en recyclet het weer tot bruikbare materialen, zoals papier, metaal, kunststof, glas, hout, bouwstoffen, compost en energie. Daarmee draagt het concreet bij aan een circulaire en duurzame economie.</span>
                    <span class="caption-location">Locatie: Westelijk Havengebied Amsterdam</span>
                </div>
            </div>
            <div class="photo-item">
                <img src="het-noordzeekanaal-gebied/18.jpg" alt="Het Noordzeekanaal Gebied" loading="lazy">
                <button class="nzkg-info-btn" aria-label="Toon informatie">i</button>
                <div class="photo-caption">
                    <span class="caption-main">Guus is werkzaam bij HYCC als project development manager van waterstoffabriek H2era.</span>
                    <span class="caption-detail">Deze 500 megawatt elektrolyser is een van Europa's grootste groene waterstof initiatieven. Met deze fabriek willen we vanaf 2030 windenergie van zee optimaal omzetten naar groene waterstof voor de industrie & transport.</span>
                    <span class="caption-location">Locatie: Westelijk Havengebied Amsterdam</span>
                </div>
            </div>

            <div class="end-panel" style="flex-shrink: 0; background: #1a1a1a; display: flex; flex-direction: column; justify-content: center; padding: 3rem;">
                <p style="font-family: 'Scala Sans SC', sans-serif; font-size: 1.2rem; color: rgba(255,255,255,0.5); text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 3rem;">Einde van deze serie</p>

                <p style="font-family: 'Scala Sans', sans-serif; font-size: 0.85rem; color: rgba(255,255,255,0.4); margin-bottom: 1rem; text-transform: uppercase; letter-spacing: 0.05em;">Bekijk ook</p>

                <nav style="display: flex; flex-direction: column; gap: 0.6rem;">
                    <a href="/" style="font-family: 'Scala Sans', sans-serif; font-size: 0.95rem; color: #ffffff; text-decoration: none; transition: color 0.3s;">Home</a>
                    <a href="de-exoten.html" style="font-family: 'Scala Sans', sans-serif; font-size: 0.95rem; color: #ffffff; text-decoration: none; transition: color 0.3s;">De Exoten</a>
                    <a href="mijn-tatoeages.html" style="font-family: 'Scala Sans', sans-serif; font-size: 0.95rem; color: #ffffff; text-decoration: none; transition: color 0.3s;">Mijn Tatoeages</a>
                    <a href="a-better-port.html" style="font-family: 'Scala Sans', sans-serif; font-size: 0.95rem; color: #ffffff; text-decoration: none; transition: color 0.3s;">A Better Port</a>
                    <a href="in-blauw-licht.html" style="font-family: 'Scala Sans', sans-serif; font-size: 0.95rem; color: #ffffff; text-decoration: none; transition: color 0.3s;">In Blauw Licht</a>
                    <a href="toen-de-mijnen-verdwenen.html" style="font-family: 'Scala Sans', sans-serif; font-size: 0.95rem; color: #ffffff; text-decoration: none; transition: color 0.3s;">Toen de Mijnen Verdwenen</a>
                    <a href="de-onmisbaren.html" style="font-family: 'Scala Sans', sans-serif; font-size: 0.95rem; color: #ffffff; text-decoration: none; transition: color 0.3s;">De Onmisbaren</a>
                    <a href="een-plek-onder-de-zon.html" style="font-family: 'Scala Sans', sans-serif; font-size: 0.95rem; color: #ffffff; text-decoration: none; transition: color 0.3s;">Een Plek Onder de Zon</a>
                </nav>
                <div style="margin-top: 3rem;">
                    <p style="font-family: 'Scala Sans', sans-serif; font-size: 0.85rem; color: rgba(255,255,255,0.4); margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em;">Contact</p>
                    <p style="font-family: 'Scala Sans', sans-serif; font-size: 0.95rem; color: #ffffff; margin-bottom: 0.3rem;">wouterzaalberg@gmail.com</p>
                    <p style="font-family: 'Scala Sans', sans-serif; font-size: 0.95rem; color: #ffffff; margin-bottom: 1.5rem;">06 45 788 180</p>
                    <a href="https://instagram.com/wouterzaalberg" target="_blank" style="display: inline-block; color: #ffffff; transition: opacity 0.3s;" onmouseover="this.style.opacity='0.7'" onmouseout="this.style.opacity='1'">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        const container = document.getElementById('scrollContainer');
        const allItems = document.querySelectorAll('.horizontal-scroll-content > .photo-item, .horizontal-scroll-content > .photo-pair, .nzkg-map-insert, .end-panel');
        let currentIndex = 0;
        let isAnimating = false;
        let scrollQueue = 0;

        // Prevent middle-click autoscroll (browser's drag-to-scroll feature)
        container.addEventListener('mousedown', (e) => {
            if (e.button === 1) { // Middle mouse button
                e.preventDefault();
            }
        });

        // Initialize Leaflet map
        function initLocationMap() {
            const mapContainer = document.getElementById('locationMap');
            if (!mapContainer) return;

            // Center on the Noordzeekanaal area
            const isMobile = window.innerWidth <= 767;
            const isSmallDesktop = window.innerWidth > 767 && window.innerWidth <= 1400;
            const zoomLevel = isMobile ? 10 : (isSmallDesktop ? 11 : 12);
            const map = L.map('locationMap', {
                center: [52.44, 4.70],
                zoom: zoomLevel,
                minZoom: 8,
                maxZoom: 15,
                zoomControl: true,
                scrollWheelZoom: true,
                attributionControl: false
            });

            // Add light grayscale tiles
            L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
                attribution: '&copy; OpenStreetMap contributors &copy; CARTO',
                subdomains: 'abcd',
                maxZoom: 19
            }).addTo(map);

            // Photo locations based on captions
            const locations = [
                {
                    num: 1,
                    coords: [52.3968, 4.8408],
                    name: "Wieslaw",
                    location: "Westelijk Havengebied Amsterdam",
                    description: "Sloop energiecentrale Hemweg 08"
                },
                {
                    num: 3,
                    coords: [52.412, 4.785],
                    name: "Jolanda",
                    location: "Westelijk Havengebied Amsterdam",
                    description: "Hoofdoperator AEB Amsterdam"
                },
                {
                    num: 5,
                    coords: [52.472, 4.588],
                    name: "Manon",
                    location: "IJmond",
                    description: "Omgevingsmanager Energiehaven"
                },
                {
                    num: 6,
                    coords: [52.415, 4.828],
                    name: "Jimmy",
                    location: "Westelijk Havengebied Amsterdam",
                    description: "Stuwadoor HES Bulk Terminal"
                },
                {
                    num: 8,
                    coords: [52.425, 4.715],
                    name: "Lousanne",
                    location: "Houtrakpolder",
                    description: "Directeur Programmabureau NZKG"
                },
                {
                    num: 9,
                    coords: [52.414, 4.740],
                    name: "Etteray",
                    location: "Westelijk Havengebied Amsterdam",
                    description: "Procesoperator EVOS"
                },
                {
                    num: 10,
                    coords: [52.465, 4.805],
                    name: "Leon",
                    location: "Zaanstreek",
                    description: "Monteur bij Olam (ofi)"
                },
                {
                    num: 12,
                    coords: [52.458, 4.610],
                    name: "Koen",
                    location: "IJmond",
                    description: "Field Service Engineer Strohm"
                },
                {
                    num: 13,
                    coords: [52.468, 4.628],
                    name: "Jaap",
                    location: "Velsen-Noord",
                    description: "Projectdirecteur TenneT"
                },
                {
                    num: 14,
                    coords: [52.460, 4.585],
                    name: "Jan",
                    location: "IJmond",
                    description: "Havendienst Zeehaven IJmuiden"
                },
                {
                    num: 15,
                    coords: [52.478, 4.615],
                    name: "Angeliki",
                    location: "IJmond - Tata Steel",
                    description: "Teamleider DeNOx Tata Steel"
                },
                {
                    num: 16,
                    coords: [52.502, 4.655],
                    name: "Willem",
                    location: "Heemskerk",
                    description: "Installatietechnicus Gasunie"
                },
                {
                    num: 17,
                    coords: [52.402, 4.795],
                    name: "Anita",
                    location: "Westelijk Havengebied Amsterdam",
                    description: "Medewerker Renewi Organics"
                },
                {
                    num: 18,
                    coords: [52.414, 4.760],
                    name: "Guus",
                    location: "Westelijk Havengebied Amsterdam",
                    description: "Project manager HYCC / H2era"
                }
            ];

            // Custom marker icon (can be replaced with thumbnails)
            const markerIcon = L.divIcon({
                className: 'nzkg-marker',
                iconSize: [24, 24],
                iconAnchor: [12, 12]
            });

            // Function to create thumbnail marker (for when thumbnails are available)
            function createThumbIcon(photoNum) {
                return L.divIcon({
                    className: 'nzkg-marker-thumb',
                    html: `<img src="het-noordzeekanaal-gebied/thumbs/${photoNum}.jpg" alt="Foto ${photoNum}">`,
                    iconSize: [50, 50],
                    iconAnchor: [25, 25]
                });
            }

            // Use thumbnail markers
            const useThumbnails = true;

            // Add markers
            locations.forEach(loc => {
                const icon = useThumbnails ? createThumbIcon(loc.num) : markerIcon;
                const marker = L.marker(loc.coords, { icon: icon }).addTo(map);

                marker.bindPopup(`
                    <strong>Foto ${loc.num}: ${loc.name}</strong>
                    ${loc.description}<br>
                    <em style="color: rgba(255,255,255,0.6); font-size: 0.8rem;">${loc.location}</em>
                `, {
                    closeButton: false,
                    offset: [0, -5]
                });

                marker.on('mouseover', function() {
                    this.openPopup();
                });
                marker.on('mouseout', function() {
                    this.closePopup();
                });
            });

        }

        // Initialize map when it becomes visible
        const mapObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    setTimeout(initLocationMap, 100);
                    mapObserver.disconnect();
                }
            });
        }, { threshold: 0.1 });

        const mapInsert = document.getElementById('mapInsert');
        if (mapInsert) {
            mapObserver.observe(mapInsert);
        }

        // Scroll to target index
        function scrollToIndex(index) {
            if (index < 0) index = 0;
            if (index >= allItems.length) index = allItems.length - 1;

            currentIndex = index;

            allItems[currentIndex].scrollIntoView({
                behavior: 'smooth',
                block: 'center',
                inline: 'center'
            });
        }

        // Improved scroll handling - works for both mouse and trackpad
        // See docs/horizontal-scroll.md for documentation
        let accumulatedDelta = 0;
        let lastWheelTime = 0;
        let scrollDirection = 0;
        const DELTA_THRESHOLD = 50;  // Minimum delta to trigger scroll
        const COOLDOWN = 800;        // Ms to wait after scroll (trackpad)
        const COOLDOWN_FAST = 150;   // Ms to wait after mouse wheel scroll
        const MOMENTUM_RESET_TIME = 100; // Reset accumulation if gap between events
        const MOUSE_WHEEL_DELTA = 80;   // Typical mouse wheel delta
        const SCROLL_PAUSE = 150;       // Ms pause indicates new scroll action

        // Trigger scroll (optional fast cooldown for mouse wheel)
        function triggerScroll(direction, fast = false) {
            if (isAnimating) return;

            isAnimating = true;
            const newIndex = currentIndex + direction;
            scrollToIndex(newIndex);

            setTimeout(() => {
                isAnimating = false;
                accumulatedDelta = 0;
                scrollDirection = 0;
            }, fast ? COOLDOWN_FAST : COOLDOWN);
        }

        // Keyboard navigation (arrow keys)
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                e.preventDefault();
                triggerScroll(1);
            } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                e.preventDefault();
                triggerScroll(-1);
            }
        });

        // Smooth scroll handling (desktop only)
        if (window.innerWidth > 767) {
            container.addEventListener('wheel', (e) => {
                e.preventDefault();

                if (isAnimating) return;

                const now = Date.now();
                const delta = Math.abs(e.deltaY);
                const direction = e.deltaY > 0 ? 1 : -1;
                const timeSinceLastScroll = now - lastWheelTime;

                // Detect mouse wheel: large delta after a pause
                if (timeSinceLastScroll > SCROLL_PAUSE && delta >= MOUSE_WHEEL_DELTA) {
                    lastWheelTime = now;
                    triggerScroll(direction, true); // fast cooldown for mouse wheel
                    accumulatedDelta = 0;
                    return;
                }

                // Reset accumulation if too much time passed (momentum ended)
                if (timeSinceLastScroll > MOMENTUM_RESET_TIME) {
                    accumulatedDelta = 0;
                }
                lastWheelTime = now;

                // Reset if direction changes
                if (scrollDirection !== 0 && direction !== scrollDirection) {
                    accumulatedDelta = 0;
                }

                scrollDirection = direction;
                accumulatedDelta += delta;

                // Trigger scroll when threshold reached
                if (accumulatedDelta >= DELTA_THRESHOLD) {
                    triggerScroll(direction);
                }
            }, { passive: false });
        }

        // Fade in images when loaded
        const images = document.querySelectorAll('.photo-item img, .photo-pair img');

        // Intersection Observer for lazy fade-in
        const observerOptions = {
            root: container,
            rootMargin: '500px',
            threshold: 0.1
        };

        const imageObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    if (img.complete) {
                        img.classList.add('loaded');
                    } else {
                        img.addEventListener('load', () => {
                            img.classList.add('loaded');
                        });
                    }
                }
            });
        }, observerOptions);

        images.forEach(img => {
            imageObserver.observe(img);
        });

        // Trigger first images immediately
        images.forEach((img, index) => {
            if (index < 3) {
                if (img.complete) {
                    img.classList.add('loaded');
                } else {
                    img.addEventListener('load', () => {
                        img.classList.add('loaded');
                    });
                }
            }
        });

        // Mobile: Caption fade-in animation
        if (window.innerWidth <= 767) {
            const captions = document.querySelectorAll('.photo-caption');
            const captionObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.3 });

            captions.forEach(caption => {
                captionObserver.observe(caption);
            });

            // Title/subtitle fade-in
            const title = document.querySelector('.nzkg-title');
            const subtitle = document.querySelector('.nzkg-subtitle');
            const titleObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        // Also trigger subtitle when title becomes visible
                        if (entry.target.classList.contains('nzkg-title') && subtitle) {
                            setTimeout(() => subtitle.classList.add('visible'), 200);
                        }
                    }
                });
            }, { threshold: 0.5 });

            if (title) titleObserver.observe(title);
        }

        // Info button toggle (desktop)
        const infoButtons = document.querySelectorAll('.nzkg-info-btn');
        infoButtons.forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.stopPropagation();
                // Find parent photo-item or photo-pair
                const photoItem = btn.closest('.photo-item');
                const photoPair = btn.closest('.photo-pair');
                const target = photoPair || photoItem;

                // Close other open captions
                document.querySelectorAll('.photo-item.info-active, .photo-pair.info-active').forEach(el => {
                    if (el !== target) el.classList.remove('info-active');
                });

                // Toggle this one
                target.classList.toggle('info-active');
            });
        });

        // Close caption when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.nzkg-info-btn') && !e.target.closest('.photo-caption')) {
                document.querySelectorAll('.photo-item.info-active, .photo-pair.info-active').forEach(el => {
                    el.classList.remove('info-active');
                });
            }
        });

        // Mobiel: nav auto-hide na 3 seconden, toon bij aanraking
        if (window.innerWidth <= 767) {
            const nav = document.querySelector('.horizontal-nav');
            let hideTimeout;

            function hideNav() {
                nav.classList.add('nav-hidden');
            }

            function showNav() {
                nav.classList.remove('nav-hidden');
                clearTimeout(hideTimeout);
                hideTimeout = setTimeout(hideNav, 3000);
            }

            hideTimeout = setTimeout(hideNav, 3000);
            document.addEventListener('touchstart', showNav, { passive: true });
        }
    </script>

    <!-- Share Functionality -->
    <script>
        (function() {
            const shareButton = document.getElementById('shareButton');
            const shareDropdown = document.getElementById('shareDropdown');
            if (!shareButton || !shareDropdown) return;

            const pageUrl = encodeURIComponent(window.location.href);
            const pageTitle = encodeURIComponent(document.title);

            shareButton.addEventListener('click', function(e) {
                e.stopPropagation();
                if (navigator.share) {
                    navigator.share({ title: document.title, url: window.location.href }).catch(() => {});
                    return;
                }
                shareDropdown.classList.toggle('active');
            });

            document.addEventListener('click', function() {
                shareDropdown.classList.remove('active');
            });

            shareDropdown.addEventListener('click', function(e) {
                e.stopPropagation();
            });

            document.getElementById('shareWhatsApp').href = `https://wa.me/?text=${pageTitle}%20${pageUrl}`;
            document.getElementById('shareFacebook').href = `https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`;
            document.getElementById('shareTwitter').href = `https://twitter.com/intent/tweet?url=${pageUrl}&text=${pageTitle}`;
            document.getElementById('shareLinkedIn').href = `https://www.linkedin.com/sharing/share-offsite/?url=${pageUrl}`;
            document.getElementById('shareEmail').href = `mailto:?subject=${pageTitle}&body=${pageUrl}`;

            document.getElementById('copyLink').addEventListener('click', function() {
                navigator.clipboard.writeText(window.location.href).then(() => {
                    const span = this.querySelector('span');
                    span.textContent = 'Gekopieerd!';
                    this.classList.add('copy-success');
                    setTimeout(() => {
                        span.textContent = 'Kopieer link';
                        this.classList.remove('copy-success');
                    }, 2000);
                });
            });
        })();
    </script>
</body>
</html>
